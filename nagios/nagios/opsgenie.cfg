define contact {
    contact_name                    opsgenie
    alias                           OpsGenie Contact
    service_notification_period     24x7
    host_notification_period        24x7
    service_notification_options    w,u,c,r
    host_notification_options       d,r
    service_notification_commands   notify-service-by-opsgenie
    host_notification_commands      notify-host-by-opsgenie
}

define command {
    command_name    notify-service-by-opsgenie
    command_line    /usr/local/bin/nagios2opsgenie service "$NOTIFICATIONTYPE$" "$HOSTADDRESS$" "$LONGDATETIME$" "$HOSTNAME$" "$HOSTALIAS$" "$SERVICEDESC$" "$SERVICESTATE$" "$SERVICEOUTPUT$" "$SERVICEGROUPNAME$" "$LASTSERVICECHECK$" "$LASTSERVICESTATECHANGE$" "$SERVICEDURATION$" "$SERVICEATTEMPT$" "$MAXSERVICEATTEMPTS$" "$SERVICESTATETYPE$" "$SERVICELATENCY$" "$SERVICECHECKTYPE$" "$SERVICEPERFDATA$"   1>>/var/log/opsgenie/lamp/opsgeniescriptout.log 2>>/var/log/opsgenie/lamp/opsgeniescripterr.log
}

define command {
    command_name    notify-host-by-opsgenie
    command_line    /usr/local/bin/nagios2opsgenie host "$NOTIFICATIONTYPE$" "$HOSTADDRESS$" "$LONGDATETIME$" "$HOSTNAME$" "$HOSTALIAS$" "$HOSTGROUPNAME$" "$HOSTSTATE$" "$LASTHOSTCHECK$" "$LASTHOSTSTATECHANGE$" "$HOSTDURATION$" "$HOSTOUTPUT$" "$HOSTATTEMPT$" "$MAXHOSTATTEMPTS$" "$HOSTSTATETYPE$" "$HOSTLATENCY$" "$HOSTCHECKTYPE$" "$HOSTPERFDATA$"   1>>/var/log/opsgenie/lamp/opsgeniescriptout.log 2>>/var/log/opsgenie/lamp/opsgeniescripterr.log
}
