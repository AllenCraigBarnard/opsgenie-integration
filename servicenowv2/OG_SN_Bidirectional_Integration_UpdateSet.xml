<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2017-08-08 15:29:36">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<application_name>OpsGenie</application_name>
<application_scope>x_86994_opsgenie</application_scope>
<application_version>1.2.0</application_version>
<collisions/>
<commit_date/>
<deleted/>
<description>OpsGenie ServiceNow Bidirectional Integration.</description>
<inserted/>
<name>OpsGenie</name>
<origin_sys_id/>
<release_date/>
<remote_sys_id>5c8423c04f200300e6937d218110c7a4</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c8e56bc04f200300e6937d218110c79f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_module_480ed52edb44320030237d9ebf961974</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="OpsGenie">e92b8656db00320030237d9ebf9619f9</application><assessment/><content_page/><device_type/><filter table="sys_script">nameLIKEopsgenie^EQ<item endquery="false" field="name" goto="false" newquery="false" operator="LIKE" or="false" value="opsgenie"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Business Rules</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_script</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles/><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-04 07:19:21</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>480ed52edb44320030237d9ebf961974</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Business Rules</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_app_module_480ed52edb44320030237d9ebf961974</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-04 07:53:50</sys_updated_on><timeline_page/><title>Business Rules</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e56bc04f200300e6937d218110c7a1</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_script</table>
<target_name>Business Rules</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_sys_user_x_86994_opsgenie_opsgenie_mobile_phone_contact_id_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="x_86994_opsgenie_opsgenie_mobile_phone_contact_id" label="OpsGenie Mobile Phone Contact Id" language="en" table="sys_user"><sys_documentation action="INSERT_OR_UPDATE"><element>x_86994_opsgenie_opsgenie_mobile_phone_contact_id</element><help/><hint/><label>OpsGenie Mobile Phone Contact Id</label><language>en</language><name>sys_user</name><plural>OpsGenie Mobile Phone Contact Ids</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 06:50:43</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>f4bc411bdb7a320030237d9ebf9619ac</sys_id><sys_mod_count>0</sys_mod_count><sys_name>OpsGenie Mobile Phone Contact Id</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_sys_user_x_86994_opsgenie_opsgenie_mobile_phone_contact_id_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-23 06:50:43</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e56bc04f200300e6937d218110c7a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>User.OpsGenie Mobile Phone Contact Id</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_623746d2db00320030237d9ebf96194d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>post</function_name><http_method>post</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Webhook [ post ]</qualified_name><rest_endpoint>${endPoint}/v1/json/servicenowv2</rest_endpoint><rest_message display_value="OpsGenie Webhook">6dc682d2db00320030237d9ebf961911</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-03 15:40:03</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>623746d2db00320030237d9ebf96194d</sys_id><sys_mod_count>9</sys_mod_count><sys_name>post</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_623746d2db00320030237d9ebf96194d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-17 15:42:30</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e56bc04f200300e6937d218110c7a7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>post</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_2dcce30adb30720030237d9ebf9619eb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-02-09 11:12:07</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>2dcce30adb30720030237d9ebf9619eb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_group</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_2dcce30adb30720030237d9ebf9619eb</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-02-09 11:12:07</sys_updated_on><target_name>sys_user_group</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e56bc04f200300e6937d218110c7aa</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>sys_user_group</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_cfbaf94fdbf2320030237d9ebf961944</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>write</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-22 15:33:21</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>cfbaf94fdbf2320030237d9ebf961944</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_cfbaf94fdbf2320030237d9ebf961944</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-22 15:33:21</sys_updated_on><target_name>sys_user</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e5a3044f200300e6937d218110c72d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>sys_user</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_9b45dccddb83320030237d9ebf9619ed</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;x_86994_opsgenie_opsgenie_configuration&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;Opsgenie Configuration Maintain 1 Entry&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var gr = new GlideRecord('x_86994_opsgenie_opsgenie_configuration');
	gr.query();
	
	if (gr.getRowCount() &gt; 1) {
		gr.next();
		gr.deleteRecord();
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-28 13:20:31&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;9b45dccddb83320030237d9ebf9619ed&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Opsgenie Configuration Maintain 1 Entry&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_9b45dccddb83320030237d9ebf9619ed&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-28 13:20:58&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;after&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=9b45dccddb83320030237d9ebf9619ed"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e5a3044f200300e6937d218110c730</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>Opsgenie Configuration Maintain 1 Entry</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_0878f3ffdbfa720030237d9ebf961901</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>0878f3ffdbfa720030237d9ebf961901</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_security_acl display_value="x_86994_opsgenie_opsgenie_configuration">4c78b3ffdbfa720030237d9ebf9619fe</sys_security_acl><sys_update_name>sys_security_acl_role_0878f3ffdbfa720030237d9ebf961901</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><sys_user_role display_value="x_86994_opsgenie.opsgenie_configuration_user" name="x_86994_opsgenie.opsgenie_configuration_user">c47833ffdbfa720030237d9ebf961996</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e5a3044f200300e6937d218110c733</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_bf9387b9db38320030237d9ebf9619c5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;assignToGroup&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;
	
	gs.info("[Assign Incident To Group] Processing message: {alias=" + body.alias + ", team=" + body.group + "}");
	
	var alertAlias = body.alias;
	var groupName = body.group;
	
	var inc = new GlideRecord('incident');
	inc.addQuery("x_86994_opsgenie_alert_alias", alertAlias);
	inc.query();
	
	if (inc.next()) {
		var group = new GlideRecord('sys_user_group');
	
		group.addQuery('name', groupName);
		group.query();

		if (group.next()) {
			inc.assignment_group = group.sys_id.toString();

			inc.update();
			gs.info("[Assign Incident To Group] Processing finished.");
		} else {
			gs.debug('[Assign Incident To Group] Unable to find group with name: ' + groupName);
		}
	} else {
		gs.error('[Assign Incident To Group] Unable to find incident with x_86994_opsgenie_alert_alias : ' + alertAlias);
	}
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_86994_opsgenie/opsgenie2sn/assignToGroup&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/assignToGroup&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;false&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-08 13:41:33&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;bf9387b9db38320030237d9ebf9619c5&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;assignToGroup&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_bf9387b9db38320030237d9ebf9619c5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-21 12:10:18&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="opsgenie2sn"&gt;c08571f8dbd4320030237d9ebf961972&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>00e5a3044f200300e6937d218110c736</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>assignToGroup</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_98838612db00320030237d9ebf9619ae</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_app"><sys_app action="INSERT_OR_UPDATE"><active>true</active><enforce_license>log</enforce_license><js_level>helsinki_es5</js_level><licensable>true</licensable><license_model>none</license_model><logo/><menu display_value="OpsGenie">e92b8656db00320030237d9ebf9619f9</menu><name>OpsGenie</name><private>false</private><restrict_table_access>false</restrict_table_access><runtime_access_tracking>permissive</runtime_access_tracking><scope>x_86994_opsgenie</scope><scoped_administration>false</scoped_administration><short_description/><source>x_86994_opsgenie</source><store_correlation_id/><store_url/><sys_class_name>sys_app</sys_class_name><sys_code/><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-03 15:23:36</sys_created_on><sys_id>98838612db00320030237d9ebf9619ae</sys_id><sys_mod_count>6</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-30 08:18:48</sys_updated_on><template/><trackable>true</trackable><user_role/><vendor/><vendor_prefix/><version>1.2.0</version></sys_app></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e56bc04f200300e6937d218110c7a0</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie</target_name>
<type>Custom Application</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_x_86994_opsgenie_opsgenie_configuration_sync</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="sync" table="x_86994_opsgenie_opsgenie_configuration"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Use Synchronization&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value&gt;false&lt;/default_value&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;sync&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value=""&gt;boolean&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;40&lt;/max_length&gt;&lt;name&gt;x_86994_opsgenie_opsgenie_configuration&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-25 08:41:14&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;e0a8bfbfdbfa720030237d9ebf9619ad&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Use Synchronization&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_x_86994_opsgenie_opsgenie_configuration_sync&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-28 09:05:34&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e56bc04f200300e6937d218110c7a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.Use Synchronization</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_103c6c8bdb72320030237d9ebf9619e3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>get</function_name><http_method>get</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie User API Endpoint [ get ]</qualified_name><rest_endpoint>${endPoint}/v2/users${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie User API Endpoint">45fb6c8bdb72320030237d9ebf961987</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-22 09:50:12</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>103c6c8bdb72320030237d9ebf9619e3</sys_id><sys_mod_count>2</sys_mod_count><sys_name>get</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_103c6c8bdb72320030237d9ebf9619e3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:01:36</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e56bc04f200300e6937d218110c7a6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>get</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_1acaa1e2db84320030237d9ebf9619fa</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-04 08:14:03</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>1acaa1e2db84320030237d9ebf9619fa</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScopedGlideElement</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_1acaa1e2db84320030237d9ebf9619fa</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-04 08:14:03</sys_updated_on><target_name>ScopedGlideElement</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e56bc04f200300e6937d218110c7a9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScopedGlideElement</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_956b0346db7c320030237d9ebf9619a6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-02-09 08:46:16</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>956b0346db7c320030237d9ebf9619a6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>incident</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_956b0346db7c320030237d9ebf9619a6</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-02-09 08:46:16</sys_updated_on><target_name>incident</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e5a3044f200300e6937d218110c72c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>incident</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_4da38a52db00320030237d9ebf9619e4</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;incident&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="incident"&gt;assigned_toVALCHANGES^EQ&lt;item endquery="false" field="assigned_to" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Assign Alert&lt;/name&gt;&lt;order&gt;4&lt;/order&gt;&lt;priority&gt;1&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	var alertAlias = current.x_86994_opsgenie_alert_alias.toString();
	
	if (client.useAcknowledgeInsteadOfAssign) {
		var contentMapAck = {
			state: "Acknowledged",
			user: current.assigned_to.email.toString(),
			incidentNumber: current.number.toString()
		};
		
		if (alertAlias == null || alertAlias == "") {
			contentMapAck.alias = current.number.toString();
		} else {
			contentMapAck.alias = alertAlias.toString();
		}

		client.postToOpsGenie(contentMapAck);
	} else {
		var contentMapAssign = {
			owner : {
				username : current.assigned_to.email.toString()
			}
		};

		if (alertAlias == null || alertAlias == "") {
			contentMapAssign.alias = current.number.toString();
		} else {
			contentMapAssign.alias = alertAlias.toString();
		}

		client.postToOpsGenieAlertAPI(contentMapAssign, "/" + contentMapAssign.alias + "/assign", "alias");
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-03 15:26:01&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4da38a52db00320030237d9ebf9619e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;14&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Assign Alert&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_4da38a52db00320030237d9ebf9619e4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-03 12:00:34&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=4da38a52db00320030237d9ebf9619e4"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e5a3044f200300e6937d218110c72f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>OpsGenie Assign Alert</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_8c78b3ffdbfa720030237d9ebf9619f2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on x_86994_opsgenie_opsgenie_configuration</description><name>x_86994_opsgenie_opsgenie_configuration</name><operation display_value="create">create</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>8c78b3ffdbfa720030237d9ebf9619f2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_security_acl_8c78b3ffdbfa720030237d9ebf9619f2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e5a3044f200300e6937d218110c732</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_3465a8abdbf8720030237d9ebf9619de</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;close&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;

	gs.info("[Close Incident] Processing message: {alias=" + body.alias + ", note=" + body.workNotes + "}");	
	
	var alertAlias = body.alias;
	var closeNote = body.workNotes;
	
	var inc = new GlideRecord('incident');
	
	inc.addQuery("x_86994_opsgenie_alert_alias", alertAlias);
	inc.query();
	
	if (inc.next()) {
		inc.close_notes = closeNote;
		inc.close_code = "Solved (Permanently)";
		inc.state = 7;
		
		inc.update();
		gs.info("[Close Incident] Processing finished.");
	} else {
		gs.info("[Close Incident] Alert Id not found, skipping action.");
	}
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_86994_opsgenie/opsgenie2sn/close&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/close&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;false&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-13 12:34:48&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;3465a8abdbf8720030237d9ebf9619de&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;close&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_3465a8abdbf8720030237d9ebf9619de&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-21 12:08:25&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="opsgenie2sn"&gt;c08571f8dbd4320030237d9ebf961972&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>04e5a3044f200300e6937d218110c735</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>close</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_sys_user_x_86994_opsgenie_opsgenie_user_id</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="x_86994_opsgenie_opsgenie_user_id" table="sys_user"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;OpsGenie User Id&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;x_86994_opsgenie_opsgenie_user_id&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;512&lt;/max_length&gt;&lt;name&gt;sys_user&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-22 15:24:39&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;8b68f90fdbf2320030237d9ebf961933&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie User Id&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_sys_user_x_86994_opsgenie_opsgenie_user_id&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-22 15:24:39&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>08e56bc04f200300e6937d218110c7a2</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>User.OpsGenie User Id</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_45fb6c8bdb72320030237d9ebf961987</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message"><sys_rest_message action="INSERT_OR_UPDATE"><access>package_private</access><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><description>OpsGenie User API EndPoint.</description><name>OpsGenie User API Endpoint</name><oauth2_profile/><protocol_name/><rest_endpoint>${endPoint}/v2/users${subEndPoint}</rest_endpoint><sys_class_name>sys_rest_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-22 09:50:12</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>45fb6c8bdb72320030237d9ebf961987</sys_id><sys_mod_count>3</sys_mod_count><sys_name>OpsGenie User API Endpoint</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_45fb6c8bdb72320030237d9ebf961987</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-03 12:04:34</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mutual_auth>false</use_mutual_auth></sys_rest_message></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>08e56bc04f200300e6937d218110c7a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie User API Endpoint</target_name>
<type>REST Message</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_e825b9b8dbd4320030237d9ebf9619d1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>patch</function_name><http_method>patch</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Alert API Endpoint [ patch ]</qualified_name><rest_endpoint>${endPoint}/v2/alerts${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Alert API Endpoint">a80435b8dbd4320030237d9ebf961914</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:45:46</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>e825b9b8dbd4320030237d9ebf9619d1</sys_id><sys_mod_count>10</sys_mod_count><sys_name>patch</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_e825b9b8dbd4320030237d9ebf9619d1</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:14:44</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>08e56bc04f200300e6937d218110c7a8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>patch</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_21e8633bdbfa720030237d9ebf96198c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;true&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_user_group&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Delete Team&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	
	if (client.syncUsersAndGroupsWithOpsGenie) {
		var teamName = client.replaceForbiddenCharacters(current.name.toString());
		client.deleteTeamFromOpsGenie("/" + teamName, "name" );
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-25 07:37:33&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;21e8633bdbfa720030237d9ebf96198c&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Delete Team&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_21e8633bdbfa720030237d9ebf96198c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-03 11:20:15&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;after&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=21e8633bdbfa720030237d9ebf96198c"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>08e5a3044f200300e6937d218110c72e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user_group</table>
<target_name>OpsGenie Delete Team</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_include_880117fcdb03320030237d9ebf9619ab</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_86994_opsgenie.OpsGenie_Configuration&lt;/api_name&gt;&lt;client_callable&gt;true&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;OpsGenie_Configuration&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var OpsGenie_Configuration = Class.create();
OpsGenie_Configuration.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
	getConfigData: function() {
		var gr = new GlideRecord('x_86994_opsgenie_opsgenie_configuration');
		gr.query();
		
		var result = this.newItem("result");
		
		if (gr.next()) {
			var apiKey = gr.apikey.toString();
			var endpoint = gr.opsgenie_endpoint.toString();
			var useSynchronization = gr.sync;
			var useAcknowledgeInsteadOfAssign = gr.use_acknowledge_instead_of_assign;
		
			result.setAttribute("apiKey", apiKey);
			result.setAttribute("endPoint", endpoint);
			result.setAttribute("useSynchronization", useSynchronization);
			result.setAttribute("useAcknowledgeInsteadOfAssign", useAcknowledgeInsteadOfAssign);
		} else {
			result.setAttribute("apiKey", "[YOUR OPSGENIE API KEY]");
			result.setAttribute("endPoint", "https://api.opsgenie.com");
			result.setAttribute("useSynchronization", false);
			result.setAttribute("useAcknowledgeInsteadOfAssign", false);
		}
	},
	
	deletePreviousConfigData: function() {
		var checkIfSame = function(gr, apiKey, endpoint, useSync, useAck) {
			return gr.apikey.toString() == apiKey &amp;&amp; gr.opsgenie_endpoint.toString() == endpoint &amp;&amp; gr.sync.toString() == useSync
				&amp;&amp; gr.use_acknowledge_instead_of_assign.toString() == useAck;
		};
		
		var newApiKey = this.getParameter('sysparm_apiKey');
		var newEndpoint = this.getParameter('sysparm_endpoint');
		var newUseSync = this.getParameter('sysparm_useSync');
		var newUseAck = this.getParameter('sysparm_useAck');
		var foundEntry = false;
		var duplicateDeleted = false;
		var gr = new GlideRecord('x_86994_opsgenie_opsgenie_configuration');
		gr.query();
		
		while(gr.next()) {
			var isSame = checkIfSame(gr, newApiKey, newEndpoint, newUseSync, newUseAck);
			
			if (!isSame || foundEntry == true) {
				gr.deleteRecord();
			}
			
			if (isSame) {
				foundEntry = true;
			}
		}
	},
	
    type: 'OpsGenie_Configuration'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-28 08:21:57&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;880117fcdb03320030237d9ebf9619ab&lt;/sys_id&gt;&lt;sys_mod_count&gt;25&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie_Configuration&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_880117fcdb03320030237d9ebf9619ab&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-29 11:48:19&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>08e5a3044f200300e6937d218110c731</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie_Configuration</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_user_role_c47833ffdbfa720030237d9ebf961996</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role"><sys_user_role action="INSERT_OR_UPDATE"><assignable_by/><can_delegate>true</can_delegate><description/><elevated_privilege>false</elevated_privilege><grantable>true</grantable><includes_roles/><name>x_86994_opsgenie.opsgenie_configuration_user</name><suffix>opsgenie_configuration_user</suffix><sys_class_name>sys_user_role</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:00</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>c47833ffdbfa720030237d9ebf961996</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie.opsgenie_configuration_user</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_user_role_c47833ffdbfa720030237d9ebf961996</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:00</sys_updated_on></sys_user_role></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>08e5a3044f200300e6937d218110c734</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>x_86994_opsgenie.opsgenie_configuration_user</target_name>
<type>Role</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_db_object_ddf7ffbfdbfa720030237d9ebf96194e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_db_object"><sys_db_object action="INSERT_OR_UPDATE"><access>public</access><actions_access>false</actions_access><alter_access>false</alter_access><client_scripts_access>false</client_scripts_access><configuration_access>false</configuration_access><create_access>false</create_access><create_access_controls>true</create_access_controls><delete_access>false</delete_access><extension_model/><is_extendable>false</is_extendable><label>OpsGenie Configuration</label><live_feed_enabled>false</live_feed_enabled><name>x_86994_opsgenie_opsgenie_configuration</name><number_ref/><provider_class/><read_access>true</read_access><super_class/><sys_class_name>sys_db_object</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>ddf7ffbfdbfa720030237d9ebf96194e</sys_id><sys_mod_count>2</sys_mod_count><sys_name>OpsGenie Configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_db_object_ddf7ffbfdbfa720030237d9ebf96194e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 11:26:31</sys_updated_on><update_access>false</update_access><user_role display_value="x_86994_opsgenie.opsgenie_configuration_user" name="x_86994_opsgenie.opsgenie_configuration_user">c47833ffdbfa720030237d9ebf961996</user_role><ws_access>true</ws_access></sys_db_object></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>0ce56bc04f200300e6937d218110c7a1</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>Table</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_sync_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="sync" label="Use Synchronization" language="en" table="x_86994_opsgenie_opsgenie_configuration"><sys_documentation action="INSERT_OR_UPDATE"><element>sync</element><help/><hint>If selected to value, users and groups in ServiceNow will be synchronized with OpsGenie users and teams. The synchronization is one-way (ServiceNow to OpsGenie).</hint><label>Use Synchronization</label><language>en</language><name>x_86994_opsgenie_opsgenie_configuration</name><plural>Use Synchronizations</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:41:14</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>5f29bbffdbfa720030237d9ebf961912</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Use Synchronization</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_sync_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 10:13:33</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>0ce56bc04f200300e6937d218110c7a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.Use Synchronization</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_90bd6c03db72320030237d9ebf961949</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>patch</function_name><http_method>patch</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie User API Endpoint [ patch ]</qualified_name><rest_endpoint>${endPoint}/v2/users${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie User API Endpoint">45fb6c8bdb72320030237d9ebf961987</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-22 10:02:08</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>90bd6c03db72320030237d9ebf961949</sys_id><sys_mod_count>4</sys_mod_count><sys_name>patch</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_90bd6c03db72320030237d9ebf961949</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 11:10:41</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>0ce56bc04f200300e6937d218110c7a7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>patch</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_61317f8fdbc4720030237d9ebf9619fc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-06 07:18:20</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>61317f8fdbc4720030237d9ebf9619fc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.execute</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_61317f8fdbc4720030237d9ebf9619fc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-06 07:18:20</sys_updated_on><target_name>ScriptableRESTMessageClient.execute</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>0ce56bc04f200300e6937d218110c7aa</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.execute</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_eae7efc6db30720030237d9ebf961930</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>write</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-02-09 10:50:53</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>eae7efc6db30720030237d9ebf961930</sys_id><sys_mod_count>0</sys_mod_count><sys_name>incident</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_eae7efc6db30720030237d9ebf961930</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-02-09 10:50:53</sys_updated_on><target_name>incident</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>0ce5a3044f200300e6937d218110c72d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>incident</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_f1dfa7afdb36720030237d9ebf961969</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_user_grmember&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Add Team Member&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	
	if (client.syncUsersAndGroupsWithOpsGenie) {
		var user = current.user;
		var group = current.group;
		var userId = user.x_86994_opsgenie_opsgenie_user_id.toString();
		var groupName = group.name;
		var teamName = client.replaceForbiddenCharacters(groupName);
		
		var contentMap = {
			"user": {
				"id": userId
			}
		};
		
		client.postToOpsGenieTeamAPI(contentMap, "/" + teamName + "/members", "name");
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-24 13:29:32&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;f1dfa7afdb36720030237d9ebf961969&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Add Team Member&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_f1dfa7afdb36720030237d9ebf961969&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-03 11:27:22&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=f1dfa7afdb36720030237d9ebf961969"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>0ce5a3044f200300e6937d218110c730</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user_grmember</table>
<target_name>OpsGenie Add Team Member</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ui_section_bb712040db4f720030237d9ebf9619c9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_ui_section caption="" section_id="bb712040db4f720030237d9ebf9619c9" sys_domain="global" table="x_86994_opsgenie_opsgenie_configuration" version="3" view=""><sys_ui_element action="INSERT_OR_UPDATE"><element>apikey</element><position>0</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 14:33:24</sys_created_on><sys_id>07866c09dbc3320030237d9ebf961948</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="Default view">bb712040db4f720030237d9ebf9619c9</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 14:33:24</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>sync</element><position>1</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 14:33:24</sys_created_on><sys_id>8b866c09dbc3320030237d9ebf961948</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="Default view">bb712040db4f720030237d9ebf9619c9</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 14:33:24</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>.split</element><position>2</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 14:33:24</sys_created_on><sys_id>0f866c09dbc3320030237d9ebf961948</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="Default view">bb712040db4f720030237d9ebf9619c9</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 14:33:24</sys_updated_on><sys_user/><type>.split</type></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>opsgenie_endpoint</element><position>3</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 14:33:24</sys_created_on><sys_id>8f866c09dbc3320030237d9ebf961948</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="Default view">bb712040db4f720030237d9ebf9619c9</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 14:33:24</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>use_acknowledge_instead_of_assign</element><position>4</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 14:33:24</sys_created_on><sys_id>03866c09dbc3320030237d9ebf961949</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="Default view">bb712040db4f720030237d9ebf9619c9</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 14:33:24</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_section action="INSERT_OR_UPDATE"><caption/><header>false</header><name>x_86994_opsgenie_opsgenie_configuration</name><roles/><sys_class_name>sys_ui_section</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 11:37:24</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>bb712040db4f720030237d9ebf9619c9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ui_section_bb712040db4f720030237d9ebf9619c9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 11:37:24</sys_updated_on><sys_user/><title>true</title><view display_value="Default view" name="NULL">Default view</view><view_name/></sys_ui_section></sys_ui_section></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>0ce5a3044f200300e6937d218110c733</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>Form Layout</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_x_86994_opsgenie_opsgenie_configuration_opsgenie_endpoint</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="opsgenie_endpoint" table="x_86994_opsgenie_opsgenie_configuration"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;OpsGenie Endpoint&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value&gt;https://api.opsgenie.com&lt;/default_value&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;opsgenie_endpoint&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;512&lt;/max_length&gt;&lt;name&gt;x_86994_opsgenie_opsgenie_configuration&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-28 13:30:15&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;6fe79441dbc3320030237d9ebf961960&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Endpoint&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_x_86994_opsgenie_opsgenie_configuration_opsgenie_endpoint&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-28 13:30:15&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>40e56bc04f200300e6937d218110c7a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.OpsGenie Endpoint</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_05fe2ccbdb72320030237d9ebf961952</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>delete</function_name><http_method>delete</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie User API Endpoint [ delete ]</qualified_name><rest_endpoint>${endPoint}/v2/users${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie User API Endpoint">45fb6c8bdb72320030237d9ebf961987</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-22 10:02:28</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>05fe2ccbdb72320030237d9ebf961952</sys_id><sys_mod_count>2</sys_mod_count><sys_name>delete</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_05fe2ccbdb72320030237d9ebf961952</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:01:08</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>40e56bc04f200300e6937d218110c7a6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>delete</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_1955c8a9db32320030237d9ebf961938</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-05-17 15:09:32</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>1955c8a9db32320030237d9ebf961938</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setQueryParameter</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_1955c8a9db32320030237d9ebf961938</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-05-17 15:09:32</sys_updated_on><target_name>ScriptableRESTMessageClient.setQueryParameter</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>40e56bc04f200300e6937d218110c7a9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setQueryParameter</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_90dc3dba4f500300e6937d218110c7e6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-08-04 10:38:11</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>90dc3dba4f500300e6937d218110c7e6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setRequestHeader</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_90dc3dba4f500300e6937d218110c7e6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 10:38:11</sys_updated_on><target_name>ScriptableRESTMessageClient.setRequestHeader</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>40e5a3044f200300e6937d218110c72c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setRequestHeader</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_4b5e250bdbf2320030237d9ebf9619e6</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_user&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="sys_user"&gt;nameVALCHANGES^ORrolesVALCHANGES^ORphoneVALCHANGES^ORmobile_phoneVALCHANGES^ORtime_zoneVALCHANGES^EQ&lt;item endquery="false" field="name" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/&gt;&lt;item endquery="false" field="roles" goto="false" newquery="false" operator="VALCHANGES" or="true" value=""/&gt;&lt;item endquery="false" field="phone" goto="false" newquery="false" operator="VALCHANGES" or="true" value=""/&gt;&lt;item endquery="false" field="mobile_phone" goto="false" newquery="false" operator="VALCHANGES" or="true" value=""/&gt;&lt;item endquery="false" field="time_zone" goto="false" newquery="false" operator="VALCHANGES" or="true" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Update User&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	
	if (client.syncUsersAndGroupsWithOpsGenie) {
		var fullname = current.name.toString();
		var businessPhone = current.phone.toString();
		var mobilePhone = current.mobile_phone.toString();
		var userId = current.x_86994_opsgenie_opsgenie_user_id.toString();
		var businessPhoneContactId = current.x_86994_opsgenie_opsgenie_business_phone_contact_id.toString();
		var mobilePhoneContactId = current.x_86994_opsgenie_opsgenie_mobile_phone_contact_id.toString();
		var timezone = current.time_zone.toString();
	
		var contentMap = {
			"fullName": fullname
		};
		
		if (timezone != undefined &amp;&amp; timezone != "") {
			contentMap["timezone"] = timezone;
		}
		
		var result = client.patchToOpsGenieUserAPI(contentMap, "/" + userId);
		
		if (result.getStatusCode() &gt; 199 &amp;&amp; result.getStatusCode() &lt; 300) {
			if (businessPhone != undefined &amp;&amp; businessPhone != "") {
				var contactMap = {
					to: client.formatPhoneNumber(businessPhone)
				};
				var businessPhoneEndpoint= "/" + userId + "/contacts/";
				
				client.patchToOpsGenieUserAPI(contactMap, businessPhoneEndpoint.concat(businessPhoneContactId));
			}
			
			if (mobilePhone != undefined &amp;&amp; mobilePhone != "") {
				var contactMapMobile = {
					to: client.formatPhoneNumber(mobilePhone)
				};
				var mobilePhoneEndpoint= "/" + userId + "/contacts/";

				client.patchToOpsGenieUserAPI(contactMapMobile, mobilePhoneEndpoint.concat(mobilePhoneContactId));
			}
		}
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-22 15:20:07&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4b5e250bdbf2320030237d9ebf9619e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;43&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Update User&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_4b5e250bdbf2320030237d9ebf9619e6&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-04 12:38:13&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=4b5e250bdbf2320030237d9ebf9619e6"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>40e5a3044f200300e6937d218110c72f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>OpsGenie Update User</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_4c78b3ffdbfa720030237d9ebf9619fe</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on x_86994_opsgenie_opsgenie_configuration</description><name>x_86994_opsgenie_opsgenie_configuration</name><operation display_value="write">write</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>4c78b3ffdbfa720030237d9ebf9619fe</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_security_acl_4c78b3ffdbfa720030237d9ebf9619fe</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>40e5a3044f200300e6937d218110c732</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_3316e27ddbf4320030237d9ebf9619a5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;resolve&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;
	
	gs.info("[Resolve Incident] Processing message: {alias=" + body.alias + ", note=" + body.workNotes + "}");
	
	var alertAlias = body.alias;
	var closeNote = body.workNotes;
	
	var inc = new GlideRecord('incident');
	
	inc.addQuery("x_86994_opsgenie_alert_alias", alertAlias);
	inc.query();
	
	if (inc.next()) {
		inc.close_notes = closeNote;
		inc.close_code = "Solved (Permanently)";
		inc.state = 6;
		
		gs.info(inc);
		
		inc.update();
		gs.info("[Resolve Incident] Processing finished.");
	} else {
		gs.info("[Resolve Incident] Alert Id not found, skipping action.");
	}
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_86994_opsgenie/opsgenie2sn/resolve&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/resolve&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;false&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-08 13:33:27&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;3316e27ddbf4320030237d9ebf9619a5&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;resolve&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_3316e27ddbf4320030237d9ebf9619a5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-07-25 14:57:18&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="opsgenie2sn"&gt;c08571f8dbd4320030237d9ebf961972&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>40e5a3044f200300e6937d218110c735</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>resolve</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_sys_user_x_86994_opsgenie_opsgenie_mobile_phone_contact_id</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="x_86994_opsgenie_opsgenie_mobile_phone_contact_id" table="sys_user"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;OpsGenie Mobile Phone Contact Id&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;x_86994_opsgenie_opsgenie_mobile_phone_contact_id&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;512&lt;/max_length&gt;&lt;name&gt;sys_user&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-23 06:50:43&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;209c011bdb7a320030237d9ebf961981&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Mobile Phone Contact Id&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_sys_user_x_86994_opsgenie_opsgenie_mobile_phone_contact_id&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-23 06:50:43&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>44e56bc04f200300e6937d218110c7a2</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>User.OpsGenie Mobile Phone Contact Id</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_0b314b9bdb3e320030237d9ebf9619b5</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message"><sys_rest_message action="INSERT_OR_UPDATE"><access>package_private</access><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><description>OpsGenie Team API Endpoint</description><name>OpsGenie Team API Endpoint</name><oauth2_profile/><protocol_name/><rest_endpoint>${endPoint}/v2/teams${subEndPoint}</rest_endpoint><sys_class_name>sys_rest_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 15:21:07</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>0b314b9bdb3e320030237d9ebf9619b5</sys_id><sys_mod_count>1</sys_mod_count><sys_name>OpsGenie Team API Endpoint</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_0b314b9bdb3e320030237d9ebf9619b5</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-03 12:04:21</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mutual_auth>false</use_mutual_auth></sys_rest_message></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>44e56bc04f200300e6937d218110c7a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie Team API Endpoint</target_name>
<type>REST Message</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_d815f9b8dbd4320030237d9ebf9619ef</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>post</function_name><http_method>post</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Alert API Endpoint [ post ]</qualified_name><rest_endpoint>${endPoint}/v2/alerts${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Alert API Endpoint">a80435b8dbd4320030237d9ebf961914</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:45:28</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>d815f9b8dbd4320030237d9ebf9619ef</sys_id><sys_mod_count>9</sys_mod_count><sys_name>post</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_d815f9b8dbd4320030237d9ebf9619ef</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:10:22</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>44e56bc04f200300e6937d218110c7a8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>post</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_1025e7b7dbfa720030237d9ebf961937</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;true&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_user_grmember&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Delete Team Member&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	
	if (client.syncUsersAndGroupsWithOpsGenie) {
		var user = current.user;
		var group = current.group;
		var userId = user.x_86994_opsgenie_opsgenie_user_id.toString();
		var groupName = group.name;
		
		client.deleteTeamMemberFromTeamInOpsGenie(client.replaceForbiddenCharacters(groupName), userId, "name");
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-25 07:23:36&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;1025e7b7dbfa720030237d9ebf961937&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Delete Team Member&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_1025e7b7dbfa720030237d9ebf961937&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-07 08:37:21&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;after&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=1025e7b7dbfa720030237d9ebf961937"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>44e5a3044f200300e6937d218110c72e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user_grmember</table>
<target_name>OpsGenie Delete Team Member</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_include_50a78ad2db00320030237d9ebf961976</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_86994_opsgenie.OpsGenie_Client&lt;/api_name&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;OpsGenie_Client&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var OpsGenie_Client = Class.create();

OpsGenie_Client.prototype = {
    initialize: function() {
		var ogConf = new GlideRecord('x_86994_opsgenie_opsgenie_configuration');
		ogConf.query();
		
		if (ogConf.next()) {
			var apiKey = ogConf.apikey.toString();
			var endpoint = ogConf.opsgenie_endpoint.toString();
			var useSynchronization = ogConf.sync;
			var useAckInsteadOfAssign = ogConf.use_acknowledge_instead_of_assign;
			
			this.apiKey = apiKey;
			this.endpoint = endpoint;
			this.useAcknowledgeInsteadOfAssign = useAckInsteadOfAssign;
			this.syncUsersAndGroupsWithOpsGenie = useSynchronization;
		} else {
			this.apiKey = "[YOUR OPSGENIE API KEY]";
			this.endpoint = "https://api.opsgenie.com";
			this.useAcknowledgeInsteadOfAssign = false;
			this.syncUsersAndGroupsWithOpsGenie = false;
		}
    },
	
	postToOpsGenie: function(contentMap) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie Webhook', 'post');
			rest.setQueryParameter("apiKey", this.apiKey);
			rest.setStringParameter("endPoint", this.endpoint);
			rest.setRequestHeader("Content-Type", "application/json");
			var content = new global.JSON().encode(contentMap);
		
			rest.setRequestBody(content);

			gs.debug("Posting to " + rest.getEndpoint() + " content: " + content);
			var response = rest.execute();
			var responseBody = response.getBody();
			var httpStatus = response.getStatusCode();

			var responseLogMessage = "Response status: " + httpStatus + ", body: " + responseBody;
			if(!httpStatus.toString().startsWith("2")){
				gs.error(responseLogMessage);
			} else{
				gs.debug(responseLogMessage);
			}
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("Exception occured: ", ex);
		}
	},
	
	postToOpsGenieAlertAPI: function(contentMap, subEndpoint, identifierType) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie Alert API Endpoint', 'post');
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);
			if(identifierType != ""){
				rest.setQueryParameter("identifierType", identifierType);
			}
			rest.setStringParameter("endPoint", this.endpoint);
			rest.setStringParameter("subEndPoint", subEndpoint);
			rest.setRequestHeader("Content-Type", "application/json");
			
			var content = new global.JSON().encode(contentMap);
			rest.setRequestBody(content);

			gs.debug("Posting to " + rest.getEndpoint() + " content: " + content);
			var response = rest.execute();
			var responseBody = response.getBody();
			var httpStatus = response.getStatusCode();

			var responseLogMessage = "Response status: " + httpStatus + ", body: " + responseBody;
			if(!httpStatus.toString().startsWith("2")){
				gs.error(responseLogMessage);
			} else{
				gs.debug(responseLogMessage);
			}
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("Exception occured: ", ex);
		}
	},
	
	postToOpsGenieUserAPI: function(contentMap, subEndpoint) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie User API Endpoint', 'post');
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);
			rest.setStringParameter("endPoint", this.endpoint);
			rest.setStringParameter("subEndPoint", subEndpoint);
			rest.setRequestHeader("Content-Type", "application/json");
			
			var content = new global.JSON().encode(contentMap);
			rest.setRequestBody(content);

			gs.debug("Posting to " + rest.getEndpoint() + " content: " + content);
			var response = rest.execute();
			var responseBody = response.getBody();
			var httpStatus = response.getStatusCode();

			var responseLogMessage = "Response status: " + httpStatus + ", body: " + responseBody;
			if(!httpStatus.toString().startsWith("2")){
				gs.error(responseLogMessage);
			} else{
				gs.debug(responseLogMessage);
			}
			
			return response;
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("[OpsGenie_Client] Exception occured: ", ex);
		}
	},
	
	patchToOpsGenieUserAPI: function(contentMap, subEndpoint) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie User API Endpoint', 'patch');
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);
			rest.setStringParameter("endPoint", this.endpoint);
			rest.setStringParameter("subEndPoint", subEndpoint);
			rest.setRequestHeader("Content-Type", "application/json");
			
			var content = new global.JSON().encode(contentMap);
			rest.setRequestBody(content);

			gs.debug("Posting to " + rest.getEndpoint() + " content: " + content);
			var response = rest.execute();
			var responseBody = response.getBody();
			var httpStatus = response.getStatusCode();

			var responseLogMessage = "Response status: " + httpStatus + ", body: " + responseBody;
			if(!httpStatus.toString().startsWith("2")){
				gs.error(responseLogMessage);
			} else{
				gs.debug(responseLogMessage);
			}
			
			return response;
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("[OpsGenie_Client] Exception occured: ", ex);
		}
	},
	
	postToOpsGenieTeamAPI: function(contentMap, subEndpoint, teamIdentifierType) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie Team API Endpoint', 'post');
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);
			if(teamIdentifierType != ""){
				rest.setQueryParameter("teamIdentifierType", teamIdentifierType);				
			}
			rest.setStringParameter("endPoint", this.endpoint);
			rest.setStringParameter("subEndPoint", subEndpoint);
			rest.setRequestHeader("Content-Type", "application/json");
			
			var content = new global.JSON().encode(contentMap);
			rest.setRequestBody(content);

			gs.debug("Posting to " + rest.getEndpoint() + " content: " + content);
			var response = rest.execute();
			var responseBody = response.getBody();
			var httpStatus = response.getStatusCode();

			var responseLogMessage = "Response status: " + httpStatus + ", body: " + responseBody;
			if(!httpStatus.toString().startsWith("2")){
				gs.error(responseLogMessage);
			} else{
				gs.debug(responseLogMessage);
			}
			
			return response;
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("Exception occured: ", ex);
		}
	},
	
	deleteUserFromOpsGenie: function(subEndPoint) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie User API Endpoint', 'delete');
            rest.setStringParameter("endPoint", this.endpoint);
			rest.setStringParameter("subEndPoint", subEndPoint);
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);

			gs.debug("Sending delete request to " + rest.getEndpoint());
			rest.executeAsync();
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("Exception occured: ", ex);
		}
	},
	
	deleteTeamFromOpsGenie: function(subEndPoint, identifierType) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie Team API Endpoint', 'delete');
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);
            rest.setStringParameter("endPoint", this.endpoint);
			if(identifierType != ""){
				rest.setQueryParameter("identifierType", identifierType);
			}
			rest.setStringParameter("subEndPoint", subEndPoint);

			gs.debug("Sending delete request to " + rest.getEndpoint());
			rest.executeAsync();
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("Exception occured: ", ex);
		}
	},
	
	deleteTeamMemberFromTeamInOpsGenie: function(teamName, userId, identifierType) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie Team API Endpoint', 'delete');
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);
            rest.setStringParameter("endPoint", this.endpoint);
			if(identifierType != ""){
				rest.setQueryParameter("teamIdentifierType", identifierType);
			}
			var formedSubEndPoint = "/" + teamName + "/members/" + userId;
			rest.setStringParameter("subEndPoint", formedSubEndPoint);

			gs.debug("Sending delete request to " + rest.getEndpoint());
			rest.executeAsync();
		}
		catch(ex) {
			var message = ex.getMessage();
			gs.error("Exception occured: ", ex);
		}
	},
	
	formatPhoneNumber: function(number) {
		number = number
			.replace(/\(/g, "")
			.replace(/\)/g, "")
			.replace(/\-/g, "")
			.replace(/\//g, "")
			.replace(/\+/g, "")
			.replace(/\ /g, "");
		
		if (number.length &gt; 10) {
			number = number.substring(0, number.length - 10) + "-" + number.substring(number.length - 10, number.length);
		} else {
			number = "1-" + number;
		}
		
		return number;
	},
	
	replaceForbiddenCharacters: function(teamName) {
		teamName = teamName.replace(/[^0-9a-zA-Z]+/g, "_");
		return teamName;
	},
	
	getAlertFromOpsGenie: function(alertId) {
		try {
			var rest = new sn_ws.RESTMessageV2('x_86994_opsgenie.OpsGenie Alert API Endpoint', 'get');
			rest.setRequestHeader("Authorization", "GenieKey " + this.apiKey);
			rest.setStringParameter("endPoint", this.endpoint);
            rest.setQueryParameter("id", alertId);
	rest.setStringParameter("subEndPoint", "/" + alertId);
			rest.setRequestHeader("Content-Type", "application/json");
			
			gs.debug("Sending GetAlert request to " + rest.getEndpoint());
			var response = rest.execute();
			var responseBody = response.getBody();
			var httpStatus = response.getStatusCode();
			
			var responseLogMessage = "Response status: " + httpStatus + ", body: " + responseBody;
			if(!httpStatus.toString().startsWith("2")) {
				gs.error(responseLogMessage);
			} else {
				gs.debug(responseLogMessage);
				
				return responseBody;
			}
		} catch(ex) {
			var message = ex.getMessage();
			gs.error("Exception occurred: ", ex);
		}
	},
	
    type: 'OpsGenie_Client'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-03 15:42:31&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;50a78ad2db00320030237d9ebf961976&lt;/sys_id&gt;&lt;sys_mod_count&gt;114&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie_Client&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_50a78ad2db00320030237d9ebf961976&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-07 08:41:41&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>44e5a3044f200300e6937d218110c731</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie_Client</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ui_view_9dda607b4f100300e6937d218110c7b2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_view"><sys_ui_view action="INSERT_OR_UPDATE"><group/><hidden>false</hidden><name>sys_popup,ess</name><roles/><sys_class_name>sys_ui_view</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-08-07 07:13:54</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>9dda607b4f100300e6937d218110c7b2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Sys_popup,ess</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ui_view_9dda607b4f100300e6937d218110c7b2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-07 07:13:54</sys_updated_on><title>Sys_popup,ess</title><user/></sys_ui_view></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>44e5a3044f200300e6937d218110c734</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>Sys_popup,ess</target_name>
<type>UI View</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_module_fd1d952edb44320030237d9ebf961929</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="OpsGenie">e92b8656db00320030237d9ebf9619f9</application><assessment/><content_page/><device_type/><filter table="sys_script_include">nameLIKEopsgenie^EQ<item endquery="false" field="name" goto="false" newquery="false" operator="LIKE" or="false" value="opsgenie"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Script Includes</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_script_include</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles/><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-04 07:17:59</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>fd1d952edb44320030237d9ebf961929</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Script Includes</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_app_module_fd1d952edb44320030237d9ebf961929</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-04 07:17:59</sys_updated_on><timeline_page/><title>Script Includes</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>48e56bc04f200300e6937d218110c7a1</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_script_include</table>
<target_name>Script Includes</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_opsgenie_endpoint_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="opsgenie_endpoint" label="OpsGenie Endpoint" language="en" table="x_86994_opsgenie_opsgenie_configuration"><sys_documentation action="INSERT_OR_UPDATE"><element>opsgenie_endpoint</element><help/><hint>OpsGenie endpoint URL. You might want to change it when you're working on different OpsGenie environments.</hint><label>OpsGenie Endpoint</label><language>en</language><name>x_86994_opsgenie_opsgenie_configuration</name><plural>OpsGenie Endpoints</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:30:15</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>bd181801dbc3320030237d9ebf961969</sys_id><sys_mod_count>2</sys_mod_count><sys_name>OpsGenie Endpoint</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_opsgenie_endpoint_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:31:26</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>48e56bc04f200300e6937d218110c7a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.OpsGenie Endpoint</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_8af4f9b8dbd4320030237d9ebf9619d6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>get</function_name><http_method>get</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Alert API Endpoint [ get ]</qualified_name><rest_endpoint>${endPoint}/v2/alerts${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Alert API Endpoint">a80435b8dbd4320030237d9ebf961914</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:45:10</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>8af4f9b8dbd4320030237d9ebf9619d6</sys_id><sys_mod_count>9</sys_mod_count><sys_name>get</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_8af4f9b8dbd4320030237d9ebf9619d6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:06:22</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>48e56bc04f200300e6937d218110c7a7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>get</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_3e482a32dbcc320030237d9ebf961923</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-05 07:21:16</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>3e482a32dbcc320030237d9ebf961923</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTResponse.getStatusCode</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_3e482a32dbcc320030237d9ebf961923</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-05 07:21:16</sys_updated_on><target_name>ScriptableRESTResponse.getStatusCode</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>48e56bc04f200300e6937d218110c7aa</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTResponse.getStatusCode</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_df4a6422db30320030237d9ebf9619df</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-02-10 10:19:25</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>df4a6422db30320030237d9ebf9619df</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_df4a6422db30320030237d9ebf9619df</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-02-10 10:19:25</sys_updated_on><target_name>sys_user</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>48e5a3044f200300e6937d218110c72d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>sys_user</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_client_d95f2008db4f720030237d9ebf96193c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;apikey&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;OpsGenie Show Configuration Data&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
	var ga = new GlideAjax('OpsGenie_Configuration');
	ga.addParam('sysparm_name', 'getConfigData');
	ga.getXML(parseResponse);
	
	function parseResponse(resp) {
		var result = resp.responseXML.getElementsByTagName("result");
		var apiKey = result[0].getAttribute("apiKey");
		var endpoint = result[0].getAttribute("endPoint");
		var useSync = result[0].getAttribute("useSynchronization");
		var useAck = result[0].getAttribute("useAcknowledgeInsteadOfAssign");
		
		g_form.setValue('apikey', apiKey);
		g_form.setValue('opsgenie_endpoint', endpoint);
		g_form.setValue('sync', useSync);
		g_form.setValue('use_acknowledge_instead_of_assign', useAck);
	}
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-25 12:44:32&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d95f2008db4f720030237d9ebf96193c&lt;/sys_id&gt;&lt;sys_mod_count&gt;31&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Show Configuration Data&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_d95f2008db4f720030237d9ebf96193c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-30 13:21:39&lt;/sys_updated_on&gt;&lt;table&gt;x_86994_opsgenie_opsgenie_configuration&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view&gt;OpsGenie Configuration&lt;/view&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>48e5a3044f200300e6937d218110c730</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Show Configuration Data</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ui_section_6c7d3274db03320030237d9ebf961967</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_ui_section caption="" section_id="6c7d3274db03320030237d9ebf961967" sys_domain="global" table="x_86994_opsgenie_opsgenie_configuration" version="3" view="opsgenie_configuration"><sys_ui_element action="INSERT_OR_UPDATE"><element>apikey</element><position>0</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:32:41</sys_created_on><sys_id>79a81c41dbc3320030237d9ebf96199d</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="39202000db4f720030237d9ebf9619ae">6c7d3274db03320030237d9ebf961967</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:32:41</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>sync</element><position>1</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:32:41</sys_created_on><sys_id>f9a81c41dbc3320030237d9ebf96199d</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="39202000db4f720030237d9ebf9619ae">6c7d3274db03320030237d9ebf961967</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:32:41</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>.split</element><position>2</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:32:41</sys_created_on><sys_id>7da81c41dbc3320030237d9ebf96199d</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="39202000db4f720030237d9ebf9619ae">6c7d3274db03320030237d9ebf961967</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:32:41</sys_updated_on><sys_user/><type>.split</type></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>opsgenie_endpoint</element><position>3</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:32:41</sys_created_on><sys_id>fda81c41dbc3320030237d9ebf96199d</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="39202000db4f720030237d9ebf9619ae">6c7d3274db03320030237d9ebf961967</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:32:41</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>use_acknowledge_instead_of_assign</element><position>4</position><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:32:41</sys_created_on><sys_id>71a81c41dbc3320030237d9ebf96199e</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="x_86994_opsgenie_opsgenie_configuration" sys_domain="global" view="39202000db4f720030237d9ebf9619ae">6c7d3274db03320030237d9ebf961967</sys_ui_section><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:32:41</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_section action="INSERT_OR_UPDATE"><caption/><header>false</header><name>x_86994_opsgenie_opsgenie_configuration</name><roles/><sys_class_name>sys_ui_section</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 06:54:12</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>6c7d3274db03320030237d9ebf961967</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ui_section_6c7d3274db03320030237d9ebf961967</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 06:54:12</sys_updated_on><sys_user/><title>false</title><view display_value="OpsGenie Configuration" name="opsgenie_configuration">39202000db4f720030237d9ebf9619ae</view><view_name/></sys_ui_section></sys_ui_section></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>48e5a3044f200300e6937d218110c733</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>Form Layout</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view>opsgenie_configuration</view>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_module_435c952edb44320030237d9ebf961925</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="OpsGenie">e92b8656db00320030237d9ebf9619f9</application><assessment/><content_page/><device_type/><filter table="sys_rest_message">descriptionLIKEOpsGenie^EQ<item endquery="false" field="description" goto="false" newquery="false" operator="LIKE" or="false" value="OpsGenie"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>REST Message</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_rest_message</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles/><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-04 07:13:52</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>435c952edb44320030237d9ebf961925</sys_id><sys_mod_count>1</sys_mod_count><sys_name>REST Message</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_app_module_435c952edb44320030237d9ebf961925</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-11 08:43:50</sys_updated_on><timeline_page/><title>REST Message</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce56bc04f200300e6937d218110c7a0</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_rest_message</table>
<target_name>REST Message</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_sys_user_x_86994_opsgenie_opsgenie_business_phone_contact_id_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="x_86994_opsgenie_opsgenie_business_phone_contact_id" label="OpsGenie Business Phone Contact Id" language="en" table="sys_user"><sys_documentation action="INSERT_OR_UPDATE"><element>x_86994_opsgenie_opsgenie_business_phone_contact_id</element><help/><hint/><label>OpsGenie Business Phone Contact Id</label><language>en</language><name>sys_user</name><plural>OpsGenie Business Phone Contact Ids</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 06:49:42</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>467c8dd7db7a320030237d9ebf961994</sys_id><sys_mod_count>0</sys_mod_count><sys_name>OpsGenie Business Phone Contact Id</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_sys_user_x_86994_opsgenie_opsgenie_business_phone_contact_id_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-23 06:49:42</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce56bc04f200300e6937d218110c7a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>User.OpsGenie Business Phone Contact Id</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_581746d2db00320030237d9ebf961940</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>get</function_name><http_method>get</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Webhook [ get ]</qualified_name><rest_endpoint>${endPoint}/v1/json/servicenowv2</rest_endpoint><rest_message display_value="OpsGenie Webhook">6dc682d2db00320030237d9ebf961911</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-03 15:39:35</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>581746d2db00320030237d9ebf961940</sys_id><sys_mod_count>8</sys_mod_count><sys_name>get</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_581746d2db00320030237d9ebf961940</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-17 15:42:20</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce56bc04f200300e6937d218110c7a6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>get</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_2ae7efc6db30720030237d9ebf96192e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-02-09 10:50:53</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>2ae7efc6db30720030237d9ebf96192e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GlideRecord.update</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_2ae7efc6db30720030237d9ebf96192e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-02-09 10:50:53</sys_updated_on><target_name>GlideRecord.update</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce56bc04f200300e6937d218110c7a9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>GlideRecord.update</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_cf05ee7adb22320030237d9ebf96199c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-05-09 13:44:03</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>cf05ee7adb22320030237d9ebf96199c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Glide API: properties</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_cf05ee7adb22320030237d9ebf96199c</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-05-09 13:44:03</sys_updated_on><target_name>Glide API: properties</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce5a3044f200300e6937d218110c72c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>Glide API: properties</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_8a8c00cbdb32320030237d9ebf9619e5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_user&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Create User&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	
	if (client.syncUsersAndGroupsWithOpsGenie) {
		var username = current.email.toString();
		var fullname = current.name.toString();
		var businessPhone = current.phone.toString();
		var mobilePhone = current.mobile_phone.toString();
		var timezone = current.time_zone.toString();
		
		var contentMap = {
			"username": username,
			"fullName": fullname,
			"role": {
				"name": "User"
			}
		};
		
		if (timezone != undefined &amp;&amp; timezone != "") {
			contentMap["timezone"] = timezone;
		}
		
		var result = client.postToOpsGenieUserAPI(contentMap, "");
		
		if (result.getStatusCode() &gt; 199 &amp;&amp; result.getStatusCode() &lt; 300) {
			var result_body = new global.JSON().decode(result.getBody());
			var userId = result_body["data"]["id"];
			
			current.x_86994_opsgenie_opsgenie_user_id = userId;
		
			if (businessPhone != undefined &amp;&amp; businessPhone != "") {
				var contactMap = {
					method: "voice",
					to: client.formatPhoneNumber(businessPhone)
				};

				var addBusinessPhoneContactResult = client.postToOpsGenieUserAPI(contactMap, "/" + username + "/contacts");

				if (addBusinessPhoneContactResult.getStatusCode() &gt; 199 &amp;&amp; addBusinessPhoneContactResult.getStatusCode() &lt; 300) {
					var addBusinessPhoneContactResultBody = new global.JSON().decode(addBusinessPhoneContactResult.getBody());
					var businessPhoneContactId = addBusinessPhoneContactResultBody["data"]["id"];

					current.x_86994_opsgenie_opsgenie_business_phone_contact_id = businessPhoneContactId;
				}
			}

			if (mobilePhone != undefined &amp;&amp; mobilePhone != "") {
				var contactMapMobile = {
					method: "voice",
					to: client.formatPhoneNumber(mobilePhone)
				};

				var addMobilePhoneContactResult = client.postToOpsGenieUserAPI(contactMapMobile, "/" + username + "/contacts");

				if (addMobilePhoneContactResult.getStatusCode() &gt; 199 &amp;&amp; addMobilePhoneContactResult.getStatusCode() &lt; 300) {
					var addMobilePhoneContactResultBody = new global.JSON().decode(addMobilePhoneContactResult.getBody());
					var mobilePhoneContactId = addMobilePhoneContactResultBody["data"]["id"];

					current.x_86994_opsgenie_opsgenie_mobile_phone_contact_id = mobilePhoneContactId;
				}
			}
			
			current.update();
		}
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-22 10:14:55&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;8a8c00cbdb32320030237d9ebf9619e5&lt;/sys_id&gt;&lt;sys_mod_count&gt;28&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Create User&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_8a8c00cbdb32320030237d9ebf9619e5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-07 08:17:29&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=8a8c00cbdb32320030237d9ebf9619e5"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce5a3044f200300e6937d218110c72f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>OpsGenie Create User</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_0078f3ffdbfa720030237d9ebf961907</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>0078f3ffdbfa720030237d9ebf961907</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_security_acl display_value="x_86994_opsgenie_opsgenie_configuration">4478f3ffdbfa720030237d9ebf961904</sys_security_acl><sys_update_name>sys_security_acl_role_0078f3ffdbfa720030237d9ebf961907</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><sys_user_role display_value="x_86994_opsgenie.opsgenie_configuration_user" name="x_86994_opsgenie.opsgenie_configuration_user">c47833ffdbfa720030237d9ebf961996</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce5a3044f200300e6937d218110c732</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_a8fd383cdbf6320030237d9ebf961931</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;sample&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;
	var alertId = body.alert.alertId;
	
	gs.info("[Sample] Processing message: " + new global.JSON().encode(body));
	
	
	gs.info("[Sample] alertId: " + alertId);
	
	
	var client = new OpsGenie_Client();
	var alertFromOpsGenie = client.getAlertFromOpsGenie(alertId);
	
	gs.info("[Sample] Response to Get Alert request from OpsGenie: " + new global.JSON().encode(alertFromOpsGenie));
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_86994_opsgenie/opsgenie2sn/sample&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/sample&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;false&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-15 11:22:31&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;a8fd383cdbf6320030237d9ebf961931&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;sample&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_a8fd383cdbf6320030237d9ebf961931&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-17 15:29:57&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="opsgenie2sn"&gt;c08571f8dbd4320030237d9ebf961972&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>4ce5a3044f200300e6937d218110c735</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>sample</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_sys_user_x_86994_opsgenie_opsgenie_business_phone_contact_id</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="x_86994_opsgenie_opsgenie_business_phone_contact_id" table="sys_user"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;OpsGenie Business Phone Contact Id&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;x_86994_opsgenie_opsgenie_business_phone_contact_id&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;512&lt;/max_length&gt;&lt;name&gt;sys_user&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-23 06:49:42&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;a45acd97db7a320030237d9ebf96198f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Business Phone Contact Id&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_sys_user_x_86994_opsgenie_opsgenie_business_phone_contact_id&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-23 06:49:42&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>80e56bc04f200300e6937d218110c7a2</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>User.OpsGenie Business Phone Contact Id</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_x_86994_opsgenie_opsgenie_configuration__en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="" label="OpsGenie Configuration" language="en" table="x_86994_opsgenie_opsgenie_configuration"><sys_documentation action="INSERT_OR_UPDATE"><element/><help/><hint>Contains configuration data for OpsGenie integration.</hint><label>OpsGenie Configuration</label><language>en</language><name>x_86994_opsgenie_opsgenie_configuration</name><plural>OpsGenie Configurations</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>9c78f3ffdbfa720030237d9ebf96190f</sys_id><sys_mod_count>4</sys_mod_count><sys_name>OpsGenie Configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_x_86994_opsgenie_opsgenie_configuration__en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 10:14:45</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>80e56bc04f200300e6937d218110c7a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_aea1475fdb3e320030237d9ebf961914</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>post</function_name><http_method>post</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Team API Endpoint [ post ]</qualified_name><rest_endpoint>${endPoint}/v2/teams${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Team API Endpoint">0b314b9bdb3e320030237d9ebf9619b5</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 15:22:18</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>aea1475fdb3e320030237d9ebf961914</sys_id><sys_mod_count>1</sys_mod_count><sys_name>post</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_aea1475fdb3e320030237d9ebf961914</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:12:57</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>80e56bc04f200300e6937d218110c7a8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>post</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_77c76232dbcc320030237d9ebf9619ac</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-05 07:19:09</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>77c76232dbcc320030237d9ebf9619ac</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setRequestBody</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_77c76232dbcc320030237d9ebf9619ac</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-05 07:19:09</sys_updated_on><target_name>ScriptableRESTMessageClient.setRequestBody</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>80e56bc04f200300e6937d218110c7ab</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setRequestBody</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_eee95eb4db18320030237d9ebf96198f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-01-11 11:26:18</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>eee95eb4db18320030237d9ebf96198f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GlideRecord.setValue</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_eee95eb4db18320030237d9ebf96198f</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-01-11 11:26:18</sys_updated_on><target_name>GlideRecord.setValue</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>80e5a3044f200300e6937d218110c72e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>GlideRecord.setValue</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_fa0b6b9bdb26320030237d9ebf96195a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;incident&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="incident"&gt;commentsVALCHANGES^EQ&lt;item endquery="false" field="comments" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Add Comment&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	var alertAlias = current.x_86994_opsgenie_alert_alias;
	var additionalComments = current.comments.getJournalEntry(1);
	
	var contentMap = {
		state: "Added Comment",
		additionalComments: additionalComments,
		incidentNumber: current.number.toString()
	};

	if (alertAlias == null || alertAlias == "") {
		contentMap.alias = current.number.toString();
	} else {
		contentMap.alias = alertAlias.toString();
	}

	client.postToOpsGenie(contentMap);
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-11 08:07:37&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;fa0b6b9bdb26320030237d9ebf96195a&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Add Comment&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_fa0b6b9bdb26320030237d9ebf96195a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-28 14:36:58&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=fa0b6b9bdb26320030237d9ebf96195a"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>80e5a3044f200300e6937d218110c731</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>OpsGenie Add Comment</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ui_view_39202000db4f720030237d9ebf9619ae</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_view"><sys_ui_view action="INSERT_OR_UPDATE"><group/><hidden>false</hidden><name>opsgenie_configuration</name><roles/><sys_class_name>sys_ui_view</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 11:31:32</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>39202000db4f720030237d9ebf9619ae</sys_id><sys_mod_count>0</sys_mod_count><sys_name>OpsGenie Configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ui_view_39202000db4f720030237d9ebf9619ae</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 11:31:32</sys_updated_on><title>OpsGenie Configuration</title><user/></sys_ui_view></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>80e5a3044f200300e6937d218110c734</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie Configuration</target_name>
<type>UI View</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_module_e6e8a991db07320030237d9ebf961918</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="OpsGenie">e92b8656db00320030237d9ebf9619f9</application><assessment/><content_page/><device_type/><filter table="sys_script_client">nameLIKEopsgenie^EQ<item endquery="false" field="name" goto="false" newquery="false" operator="LIKE" or="false" value="opsgenie"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Client Scripts</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_script_client</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles/><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-29 14:03:31</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>e6e8a991db07320030237d9ebf961918</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Client Scripts</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_app_module_e6e8a991db07320030237d9ebf961918</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-29 14:03:31</sys_updated_on><timeline_page/><title>Client Scripts</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>84e56bc04f200300e6937d218110c7a1</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_script_client</table>
<target_name>Client Scripts</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_apikey_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="apikey" label="API Key" language="en" table="x_86994_opsgenie_opsgenie_configuration"><sys_documentation action="INSERT_OR_UPDATE"><element>apikey</element><help/><hint>Your OpsGenie API key.</hint><label>API Key</label><language>en</language><name>x_86994_opsgenie_opsgenie_configuration</name><plural>API Keys</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:02</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>dc78f3ffdbfa720030237d9ebf961911</sys_id><sys_mod_count>2</sys_mod_count><sys_name>API Key</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_apikey_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 10:12:43</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>84e56bc04f200300e6937d218110c7a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.API Key</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_65814f5bdb3e320030237d9ebf9619f3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>get</function_name><http_method>get</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Team API Endpoint [ get ]</qualified_name><rest_endpoint>${endPoint}/v2/teams${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Team API Endpoint">0b314b9bdb3e320030237d9ebf9619b5</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 15:21:07</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>65814f5bdb3e320030237d9ebf9619f3</sys_id><sys_mod_count>2</sys_mod_count><sys_name>get</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_65814f5bdb3e320030237d9ebf9619f3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:12:44</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>84e56bc04f200300e6937d218110c7a7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>get</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_3ada4eb8dbd4320030237d9ebf961973</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>create</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-01-11 10:20:30</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>3ada4eb8dbd4320030237d9ebf961973</sys_id><sys_mod_count>0</sys_mod_count><sys_name>incident</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_3ada4eb8dbd4320030237d9ebf961973</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-01-11 10:20:30</sys_updated_on><target_name>incident</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>84e56bc04f200300e6937d218110c7aa</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>incident</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_de482a32dbcc320030237d9ebf96191e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-05 07:21:15</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>de482a32dbcc320030237d9ebf96191e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.getEndpoint</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_de482a32dbcc320030237d9ebf96191e</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-05 07:21:15</sys_updated_on><target_name>ScriptableRESTMessageClient.getEndpoint</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>84e5a3044f200300e6937d218110c72d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.getEndpoint</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_client_9c0b5f70db43320030237d9ebf961922</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;apikey&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;OpsGenie Save Configuration Data&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onSubmit() {
	var apiKey = g_form.getValue('apikey');
	var endpoint = g_form.getValue('opsgenie_endpoint');
	var useSync = g_form.getValue('sync');
	var useAck = g_form.getValue('use_acknowledge_instead_of_assign');
	
	var ga = new GlideAjax('OpsGenie_Configuration');
	ga.addParam('sysparm_name', 'deletePreviousConfigData');
	ga.addParam('sysparm_apiKey', apiKey);
	ga.addParam('sysparm_endpoint', endpoint);
	ga.addParam('sysparm_useSync', useSync);
	ga.addParam('sysparm_useAck', useAck);
	ga.getXML(function() {});
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-28 09:22:13&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;9c0b5f70db43320030237d9ebf961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Save Configuration Data&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_9c0b5f70db43320030237d9ebf961922&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-29 11:49:30&lt;/sys_updated_on&gt;&lt;table&gt;x_86994_opsgenie_opsgenie_configuration&lt;/table&gt;&lt;type&gt;onSubmit&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view&gt;OpsGenie Configuration&lt;/view&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>84e5a3044f200300e6937d218110c730</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Save Configuration Data</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ui_list_x_86994_opsgenie_opsgenie_configuration_opsgenie_configuration</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_ui_list parent="" relationship="" sys_domain="global" table="x_86994_opsgenie_opsgenie_configuration" version="2" view="opsgenie_configuration"><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>apikey</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>0</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>5ac85c41dbc3320030237d9ebf9619a8</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>opsgenie_endpoint</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>1</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>dec85c41dbc3320030237d9ebf9619a8</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>sync</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>2</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>52c85c41dbc3320030237d9ebf9619a9</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>use_acknowledge_instead_of_assign</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>3</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>d2c85c41dbc3320030237d9ebf9619a9</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list action="INSERT_OR_UPDATE"><average_value>false</average_value><element/><max_value>false</max_value><min_value>false</min_value><name>x_86994_opsgenie_opsgenie_configuration</name><parent/><position/><relationship/><sum>false</sum><sys_class_name>sys_ui_list</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:48:17</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>823cd881dbc3320030237d9ebf961909</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ui_list_x_86994_opsgenie_opsgenie_configuration_opsgenie_configuration</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:48:17</sys_updated_on><sys_user display_value="System Administrator">6816f79cc0a8016401c5a33be04be441</sys_user><view display_value="OpsGenie Configuration" name="opsgenie_configuration">39202000db4f720030237d9ebf9619ae</view><view_name/></sys_ui_list></sys_ui_list></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>84e5a3044f200300e6937d218110c733</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>List Layout</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view>opsgenie_configuration</view>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_module_1eedb5fcdbd4320030237d9ebf96192a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="OpsGenie">e92b8656db00320030237d9ebf9619f9</application><assessment/><content_page/><device_type/><filter table="sys_ws_definition">nameLIKEOpsGenie^EQ<item endquery="false" field="name" goto="false" newquery="false" operator="LIKE" or="false" value="OpsGenie"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Scripted REST APIs</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_ws_definition</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles/><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 09:24:55</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>1eedb5fcdbd4320030237d9ebf96192a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Scripted REST APIs</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_app_module_1eedb5fcdbd4320030237d9ebf96192a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-11 09:24:55</sys_updated_on><timeline_page/><title>Scripted REST APIs</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e56bc04f200300e6937d218110c7a0</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_ws_definition</table>
<target_name>Scripted REST APIs</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_incident_x_86994_opsgenie_alert_alias_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="x_86994_opsgenie_alert_alias" label="Alert alias" language="en" table="incident"><sys_documentation action="INSERT_OR_UPDATE"><element>x_86994_opsgenie_alert_alias</element><help/><hint/><label>Alert alias</label><language>en</language><name>incident</name><plural>Alert alias</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-12 12:21:50</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>75303341db90720030237d9ebf9619b3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Alert alias</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_incident_x_86994_opsgenie_alert_alias_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-12 12:21:50</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e56bc04f200300e6937d218110c7a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>Incident.Alert alias</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_57d1875fdb3e320030237d9ebf9619f9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>patch</function_name><http_method>patch</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Team API Endpoint [ patch ]</qualified_name><rest_endpoint>${endPoint}/v2/teams${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Team API Endpoint">0b314b9bdb3e320030237d9ebf9619b5</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 15:22:53</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>57d1875fdb3e320030237d9ebf9619f9</sys_id><sys_mod_count>2</sys_mod_count><sys_name>patch</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_57d1875fdb3e320030237d9ebf9619f9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:15:09</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e56bc04f200300e6937d218110c7a6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>patch</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_29b27330db83320030237d9ebf9619df</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 10:46:56</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>29b27330db83320030237d9ebf9619df</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GlideRecord.newRecord</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_29b27330db83320030237d9ebf9619df</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 10:46:56</sys_updated_on><target_name>GlideRecord.newRecord</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e56bc04f200300e6937d218110c7a9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>GlideRecord.newRecord</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_beda4eb8dbd4320030237d9ebf961971</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-01-11 10:20:30</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>beda4eb8dbd4320030237d9ebf961971</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GlideRecord.insert</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_beda4eb8dbd4320030237d9ebf961971</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-01-11 10:20:30</sys_updated_on><target_name>GlideRecord.insert</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e5a3044f200300e6937d218110c72c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>GlideRecord.insert</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_7b1bfa5bdb3e320030237d9ebf961930</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_user_group&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Create Team&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {	
	var client = new OpsGenie_Client();
	
	if (client.syncUsersAndGroupsWithOpsGenie) {
		var teamName = current.name.toString();
		var teamDescription = current.description.toString();
		
		var contentMap = {
			name : client.replaceForbiddenCharacters(teamName),
			description : teamDescription
		};
		
		client.postToOpsGenieTeamAPI(contentMap, "" , "");
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-23 15:27:33&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;7b1bfa5bdb3e320030237d9ebf961930&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Create Team&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_7b1bfa5bdb3e320030237d9ebf961930&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-03 13:33:48&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=7b1bfa5bdb3e320030237d9ebf961930"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e5a3044f200300e6937d218110c72f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user_group</table>
<target_name>OpsGenie Create Team</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_0078b3ffdbfa720030237d9ebf9619fc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>0078b3ffdbfa720030237d9ebf9619fc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_security_acl display_value="x_86994_opsgenie_opsgenie_configuration">4478b3ffdbfa720030237d9ebf9619f9</sys_security_acl><sys_update_name>sys_security_acl_role_0078b3ffdbfa720030237d9ebf9619fc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><sys_user_role display_value="x_86994_opsgenie.opsgenie_configuration_user" name="x_86994_opsgenie.opsgenie_configuration_user">c47833ffdbfa720030237d9ebf961996</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e5a3044f200300e6937d218110c732</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_51e5c3f9db38320030237d9ebf96197c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;assignToUser&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;
	
	gs.info("[Assign Incident To User] Processing message: {alias=" + body.alias + ", owner=" + body.assignedTo + "}");
	
	var alertAlias = body.alias;
	var assignedTo = body.assignedTo;
	
	var inc = new GlideRecord('incident');
	
	inc.addQuery("x_86994_opsgenie_alert_alias", alertAlias);
	inc.query();
	
	if (inc.next()) {
		var user = new GlideRecord('sys_user');
	
		user.addQuery('email', assignedTo);
		user.query();

		if (user.next()) {
			inc.assigned_to = user.sys_id.toString();

			inc.update();
			gs.info("[Assign User To Incident] Processing finished.");
		} else {
			gs.debug('[Assign User To Incident] Unable to find user with name: ' + assignedTo);
		}
	} else {
		gs.error('[Assign User To Incident] Unable to find incident with x_86994_opsgenie_alert_alias : ' + alertAlias);
	}
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_86994_opsgenie/opsgenie2sn/assignToUser&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/assignToUser&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;false&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-08 13:56:29&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;51e5c3f9db38320030237d9ebf96197c&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;assignToUser&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_51e5c3f9db38320030237d9ebf96197c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-21 13:31:34&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="opsgenie2sn"&gt;c08571f8dbd4320030237d9ebf961972&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>88e5a3044f200300e6937d218110c735</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>assignToUser</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_x_86994_opsgenie_opsgenie_configuration_null</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="" table="x_86994_opsgenie_opsgenie_configuration"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element/&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value="Collection"&gt;collection&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;40&lt;/max_length&gt;&lt;name&gt;x_86994_opsgenie_opsgenie_configuration&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-25 08:38:01&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;1c78f3ffdbfa720030237d9ebf961909&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;x_86994_opsgenie_opsgenie_configuration&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_x_86994_opsgenie_opsgenie_configuration_null&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-25 08:38:01&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>8ce56bc04f200300e6937d218110c7a2</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_a80435b8dbd4320030237d9ebf961914</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message"><sys_rest_message action="INSERT_OR_UPDATE"><access>package_private</access><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><description>OpsGenie Alert API Endpoint.</description><name>OpsGenie Alert API Endpoint</name><oauth2_profile/><protocol_name/><rest_endpoint>${endPoint}/v2/alerts${subEndPoint}</rest_endpoint><sys_class_name>sys_rest_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:42:08</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>a80435b8dbd4320030237d9ebf961914</sys_id><sys_mod_count>10</sys_mod_count><sys_name>OpsGenie Alert API Endpoint</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_a80435b8dbd4320030237d9ebf961914</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-03 12:04:10</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mutual_auth>false</use_mutual_auth></sys_rest_message></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>8ce56bc04f200300e6937d218110c7a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie Alert API Endpoint</target_name>
<type>REST Message</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_f0f1875fdb3e320030237d9ebf961917</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>delete</function_name><http_method>delete</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Team API Endpoint [ delete ]</qualified_name><rest_endpoint>${endPoint}/v2/teams${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Team API Endpoint">0b314b9bdb3e320030237d9ebf9619b5</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 15:23:21</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>f0f1875fdb3e320030237d9ebf961917</sys_id><sys_mod_count>1</sys_mod_count><sys_name>delete</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_f0f1875fdb3e320030237d9ebf961917</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:15:26</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>8ce56bc04f200300e6937d218110c7a8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>delete</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_7ed97e5bdb3e320030237d9ebf9619e6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 14:47:38</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>7ed97e5bdb3e320030237d9ebf9619e6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.executeAsync</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_7ed97e5bdb3e320030237d9ebf9619e6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-23 14:47:38</sys_updated_on><target_name>ScriptableRESTMessageClient.executeAsync</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>8ce5a3044f200300e6937d218110c72b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.executeAsync</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_2fb5c292db00320030237d9ebf9619ad</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;incident&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="incident"&gt;stateCHANGESTO6^ORstateCHANGESTO7^EQ&lt;item endquery="false" field="state" goto="false" newquery="false" operator="CHANGESTO" or="false" value="6"/&gt;&lt;item endquery="false" field="state" goto="false" newquery="false" operator="CHANGESTO" or="true" value="7"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Close Alert&lt;/name&gt;&lt;order&gt;2&lt;/order&gt;&lt;priority&gt;1&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	var alertAlias = current.x_86994_opsgenie_alert_alias;
	var state = current.state.getDisplayValue().toString();
	var closeNotes = current.close_notes.toString();
	var closeCode = current.close_code.getDisplayValue().toString();
	
	var contentMap = {
		state: state,
		closeCode: closeCode,
		closeNotes: closeNotes,
		incidentNumber: current.number.toString()
	};
	
	if (alertAlias == null || alertAlias == "") {
		contentMap.alias = current.number.toString();
	} else {
		contentMap.alias = alertAlias.toString();
	}
	
	client.postToOpsGenie(contentMap);
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-03 15:34:48&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;2fb5c292db00320030237d9ebf9619ad&lt;/sys_id&gt;&lt;sys_mod_count&gt;29&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Close Alert&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_2fb5c292db00320030237d9ebf9619ad&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-04 07:23:30&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=2fb5c292db00320030237d9ebf9619ad"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>8ce5a3044f200300e6937d218110c72e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>OpsGenie Close Alert</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_4478f3ffdbfa720030237d9ebf961904</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on x_86994_opsgenie_opsgenie_configuration</description><name>x_86994_opsgenie_opsgenie_configuration</name><operation display_value="delete">delete</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>4478f3ffdbfa720030237d9ebf961904</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_security_acl_4478f3ffdbfa720030237d9ebf961904</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>8ce5a3044f200300e6937d218110c731</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_02d535f8dbd4320030237d9ebf961921</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;9bdf2c9137031200612747efbe41f1fd&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;create&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;
	
	var inc = new GlideRecord('incident');
	
	inc.short_description = body.shortDescription;
	inc.description = body.description;
	inc.x_86994_opsgenie_alert_alias = body.alias;

	var groupName = body.group;
	
	if (groupName != null &amp;&amp; groupName != "") {
		var group = new GlideRecord('sys_user_group');
	
		group.addQuery('name', groupName);
		group.query();

		if (group.next()) {
			inc.assignment_group = group.sys_id.toString();
		} else {
			gs.debug('[Create Incident] Unable to find group with name: ' + groupName);
		}
	}
	
	inc.insert();
	
	var incidentLink = gs.getProperty('glide.servlet.uri') + inc.getLink(false);
	var sysId = inc.getUniqueValue();
	
	return {
		"incidentLink": incidentLink,
		"sysId": sysId
	};
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_86994_opsgenie/opsgenie2sn&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;false&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-11 08:51:10&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;02d535f8dbd4320030237d9ebf961921&lt;/sys_id&gt;&lt;sys_mod_count&gt;27&lt;/sys_mod_count&gt;&lt;sys_name&gt;create&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_02d535f8dbd4320030237d9ebf961921&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-09 13:36:33&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="opsgenie2sn"&gt;c08571f8dbd4320030237d9ebf961972&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>8ce5a3044f200300e6937d218110c734</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>create</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_module_c478b3ffdbfa720030237d9ebf9619eb</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="OpsGenie">e92b8656db00320030237d9ebf9619f9</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>NEW</link_type><map_page/><mobile_title>OpsGenie Configurations</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>x_86994_opsgenie_opsgenie_configuration</name><order/><override_menu_roles>false</override_menu_roles><query/><report/><roles>x_86994_opsgenie.opsgenie_configuration_user</roles><survey/><survey_overwrite>true</survey_overwrite><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>c478b3ffdbfa720030237d9ebf9619eb</sys_id><sys_mod_count>5</sys_mod_count><sys_name>OpsGenie Configuration</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_app_module_c478b3ffdbfa720030237d9ebf9619eb</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-30 13:32:43</sys_updated_on><timeline_page/><title>OpsGenie Configuration</title><uncancelable>false</uncancelable><view_name/><window_name>OpsGenie Configuration</window_name></sys_app_module></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e56bc04f200300e6937d218110c7a1</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_sys_user_x_86994_opsgenie_opsgenie_user_id_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="x_86994_opsgenie_opsgenie_user_id" label="OpsGenie User Id" language="en" table="sys_user"><sys_documentation action="INSERT_OR_UPDATE"><element>x_86994_opsgenie_opsgenie_user_id</element><help/><hint/><label>OpsGenie User Id</label><language>en</language><name>sys_user</name><plural>OpsGenie User Ids</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-22 15:24:40</sys_created_on><sys_customer_update>false</sys_customer_update><sys_id>6fb87d0fdbf2320030237d9ebf96196e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>OpsGenie User Id</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_sys_user_x_86994_opsgenie_opsgenie_user_id_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-22 15:24:40</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e56bc04f200300e6937d218110c7a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>User.OpsGenie User Id</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_63578e92db00320030237d9ebf9619aa</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>put</function_name><http_method>put</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Webhook [ put ]</qualified_name><rest_endpoint>${endPoint}/v1/json/servicenowv2</rest_endpoint><rest_message display_value="OpsGenie Webhook">6dc682d2db00320030237d9ebf961911</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-03 15:40:40</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>63578e92db00320030237d9ebf9619aa</sys_id><sys_mod_count>8</sys_mod_count><sys_name>put</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_63578e92db00320030237d9ebf9619aa</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-17 15:42:47</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e56bc04f200300e6937d218110c7a7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>put</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_36482a32dbcc320030237d9ebf961922</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-05 07:21:16</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>36482a32dbcc320030237d9ebf961922</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTResponse.getBody</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_36482a32dbcc320030237d9ebf961922</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-05 07:21:16</sys_updated_on><target_name>ScriptableRESTResponse.getBody</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e56bc04f200300e6937d218110c7aa</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTResponse.getBody</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_dbb30117db7a320030237d9ebf96190b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-23 06:11:33</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>dbb30117db7a320030237d9ebf96190b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_userroles</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_dbb30117db7a320030237d9ebf96190b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-23 06:11:33</sys_updated_on><target_name>sys_userroles</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e5a3044f200300e6937d218110c72d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>sys_userroles</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_cab48e52db00320030237d9ebf961984</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;incident&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="incident"&gt;assignment_groupVALCHANGES^EQ&lt;item endquery="false" field="assignment_group" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Add Team&lt;/name&gt;&lt;order&gt;3&lt;/order&gt;&lt;priority&gt;1&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	var alertAlias = current.x_86994_opsgenie_alert_alias.toString();
	var teamName = current.assignment_group.name.toString();
	
	var contentMap = {
		team : {
			name : client.replaceForbiddenCharacters(teamName)
		}
	};
	
	client.postToOpsGenieAlertAPI(contentMap, "/" + alertAlias + "/teams", "alias");
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-03 15:30:30&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;cab48e52db00320030237d9ebf961984&lt;/sys_id&gt;&lt;sys_mod_count&gt;12&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Add Team&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_cab48e52db00320030237d9ebf961984&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-07 07:24:26&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=cab48e52db00320030237d9ebf961984"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e5a3044f200300e6937d218110c730</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>OpsGenie Add Team</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ui_list_x_86994_opsgenie_opsgenie_configuration_null</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_ui_list parent="" relationship="" sys_domain="global" table="x_86994_opsgenie_opsgenie_configuration" version="2" view=""><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>apikey</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>0</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>5ac85c41dbc3320030237d9ebf9619a8</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>opsgenie_endpoint</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>1</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>dec85c41dbc3320030237d9ebf9619a8</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>sync</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>2</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>52c85c41dbc3320030237d9ebf9619a9</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list_element action="INSERT_OR_UPDATE"><average_value>false</average_value><element>use_acknowledge_instead_of_assign</element><list_id display_value="x_86994_opsgenie_opsgenie_configuration" element="NULL" name="x_86994_opsgenie_opsgenie_configuration" parent="NULL" relationship="NULL" sys_domain="global" view="Default view">dec85c41dbc3320030237d9ebf9619a7</list_id><max_value>false</max_value><min_value>false</min_value><position>3</position><sum>false</sum><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_id>d2c85c41dbc3320030237d9ebf9619a9</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on></sys_ui_list_element><sys_ui_list action="INSERT_OR_UPDATE"><average_value>false</average_value><element/><max_value>false</max_value><min_value>false</min_value><name>x_86994_opsgenie_opsgenie_configuration</name><parent/><position/><relationship/><sum>false</sum><sys_class_name>sys_ui_list</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 13:33:17</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>dec85c41dbc3320030237d9ebf9619a7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ui_list_x_86994_opsgenie_opsgenie_configuration_null</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 13:33:17</sys_updated_on><sys_user/><view display_value="Default view" name="NULL">Default view</view><view_name/></sys_ui_list></sys_ui_list></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e5a3044f200300e6937d218110c733</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration</target_name>
<type>List Layout</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view>Default view</view>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>ua_table_licensing_config_7d2b15a74f000300e6937d218110c705</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="ua_table_licensing_config"><ua_table_licensing_config action="INSERT_OR_UPDATE"><is_fulfillment>false</is_fulfillment><license_condition/><license_model>none</license_model><license_roles/><name>x_86994_opsgenie_opsgenie_configuration</name><op_delete>true</op_delete><op_insert>true</op_insert><op_update>true</op_update><owner_condition/><sys_class_name>ua_table_licensing_config</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:02</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>7d2b15a74f000300e6937d218110c705</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>ua_table_licensing_config_7d2b15a74f000300e6937d218110c705</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:02</sys_updated_on></ua_table_licensing_config></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c0e5a3044f200300e6937d218110c736</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>x_86994_opsgenie_opsgenie_configuration</target_name>
<type>Table Subscription Configuration</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_app_application_e92b8656db00320030237d9ebf9619f9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_application"><sys_app_application action="INSERT_OR_UPDATE"><active>true</active><category display_value="Custom Applications">e0355b31ef303000a61d5a3615c0fb78</category><description/><device_type>browser</device_type><hint/><name/><order>100</order><roles/><sys_class_name>sys_app_application</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-03 15:57:17</sys_created_on><sys_customer_update>true</sys_customer_update><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>e92b8656db00320030237d9ebf9619f9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>OpsGenie</sys_name><sys_overrides/><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_app_application_e92b8656db00320030237d9ebf9619f9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-03 15:57:17</sys_updated_on><title>OpsGenie</title><view_name/></sys_app_application></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e56bc04f200300e6937d218110c7a0</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_x_86994_opsgenie_opsgenie_configuration_use_acknowledge_instead_of_assign</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="use_acknowledge_instead_of_assign" table="x_86994_opsgenie_opsgenie_configuration"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Use Acknowledge Instead Of Assign&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value&gt;false&lt;/default_value&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;use_acknowledge_instead_of_assign&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value=""&gt;boolean&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;40&lt;/max_length&gt;&lt;name&gt;x_86994_opsgenie_opsgenie_configuration&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-25 11:17:18&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;bb7c988cdb0f720030237d9ebf961976&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Use Acknowledge Instead Of Assign&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_x_86994_opsgenie_opsgenie_configuration_use_acknowledge_instead_of_assign&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-28 09:07:47&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e56bc04f200300e6937d218110c7a3</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.Use Acknowledge Instead Of Assign</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_1cace0cbdb72320030237d9ebf96192f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>post</function_name><http_method>post</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie User API Endpoint [ post ]</qualified_name><rest_endpoint>${endPoint}/v2/users${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie User API Endpoint">45fb6c8bdb72320030237d9ebf961987</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-22 09:56:38</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>1cace0cbdb72320030237d9ebf96192f</sys_id><sys_mod_count>2</sys_mod_count><sys_name>post</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_1cace0cbdb72320030237d9ebf96192f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:01:55</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e56bc04f200300e6937d218110c7a6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>post</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_21b2bf3cdb43320030237d9ebf9619a7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 10:46:56</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>21b2bf3cdb43320030237d9ebf9619a7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>GlideRecord.deleteRecord</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_21b2bf3cdb43320030237d9ebf9619a7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 10:46:56</sys_updated_on><target_name>GlideRecord.deleteRecord</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e56bc04f200300e6937d218110c7a9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>GlideRecord.deleteRecord</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_96caa1e2db84320030237d9ebf9619fe</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-04 08:14:03</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>96caa1e2db84320030237d9ebf9619fe</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setStringParameter</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_96caa1e2db84320030237d9ebf9619fe</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-04 08:14:03</sys_updated_on><target_name>ScriptableRESTMessageClient.setStringParameter</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e5a3044f200300e6937d218110c72c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setStringParameter</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_65961ee6dbc4320030237d9ebf96190c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;incident&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Create Alert&lt;/name&gt;&lt;order&gt;1&lt;/order&gt;&lt;priority&gt;1&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var shortDescription = current.short_description.toString();
	var priority = current.priority.getDisplayValue().toString();
	var incidentNumber = current.number.toString();
	var openedAt = current.opened_at.toString();
	var category = current.category.toString();
	var severity = current.severity.getDisplayValue().toString();
	var state = current.state.getDisplayValue().toString();
	var assignedTo = current.assigned_to.name.toString();
	var assignedToEmail = current.assigned_to.email.toString();
	var assignmentGroup = current.assignment_group.name.toString();
	var workNotes = current.work_notes.getJournalEntry(1);
	var incidentLink = current.getLink(false);
	var sysId = current.getUniqueValue();
	var configurationItem = current.cmdb_ci.getDisplayValue().toString();
	var companyName = current.company.name.toString();
	var callerName = current.caller_id.name.toString();
	
	var alertAlias = current.x_86994_opsgenie_alert_alias.toString();
	
	if (alertAlias == null || alertAlias == "") {
		var client = new OpsGenie_Client();
		var contentMap = {
			alias: incidentNumber,
			incidentNumber: incidentNumber,
			shortDescription: shortDescription,
			priority: priority,
			openedAt: openedAt,
			category: category,
			severity: severity,
			state: state,
			assignedTo: assignedTo,
			assignedToEmail: assignedToEmail,
			assignmentGroup: assignmentGroup,
			workNotes: workNotes,
			teams: client.replaceForbiddenCharacters(assignmentGroup),
			recipients: assignedToEmail,
			configurationItem: configurationItem,
			companyName: companyName,
			callerName: callerName,
			incidentLink: gs.getProperty('glide.servlet.uri') + incidentLink,
			sysId: sysId
		};
		client.postToOpsGenie(contentMap);
		current.x_86994_opsgenie_alert_alias = incidentNumber;
		current.update();
	} else {
		gs.info("Incident was created from OpsGenie alert, skipping sending to OpsGenie.");
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-04 11:25:26&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;65961ee6dbc4320030237d9ebf96190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;37&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Create Alert&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_65961ee6dbc4320030237d9ebf96190c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-30 09:07:58&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=65961ee6dbc4320030237d9ebf96190c"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e5a3044f200300e6937d218110c72f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>OpsGenie Create Alert</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_0078b3ffdbfa720030237d9ebf9619f6</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>0078b3ffdbfa720030237d9ebf9619f6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_security_acl display_value="x_86994_opsgenie_opsgenie_configuration">8c78b3ffdbfa720030237d9ebf9619f2</sys_security_acl><sys_update_name>sys_security_acl_role_0078b3ffdbfa720030237d9ebf9619f6</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><sys_user_role display_value="x_86994_opsgenie.opsgenie_configuration_user" name="x_86994_opsgenie.opsgenie_configuration_user">c47833ffdbfa720030237d9ebf961996</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e5a3044f200300e6937d218110c732</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration.x_86994_opsgenie.opsgenie_configuration_user</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_38f88335db38320030237d9ebf9619ca</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl/&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;addWorkNotes&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var body = request.body.data;
	
	gs.info("[Add Note To Incident] Processing message: {alias=" + body.alias + ", note=" + body.workNotes + "}");
	
	var alertAlias = body.alias;
	var note = body.workNotes;
	
	var inc = new GlideRecord('incident');
	
	inc.addQuery("x_86994_opsgenie_alert_alias", alertAlias);
	inc.query();
	
	if (inc.next()) {
		inc.work_notes = note;
		
		inc.update();
		gs.info("[Add Note To Incident] Processing finished.");
	} else {
		gs.error('[Add Note To Incident] Unable to find incident with x_86994_opsgenie_alert_alias : ' + alertAlias);
	}
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_86994_opsgenie/opsgenie2sn/addWorkNotes&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/addWorkNotes&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;false&lt;/requires_authentication&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-02-08 14:03:52&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;38f88335db38320030237d9ebf9619ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;addWorkNotes&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_38f88335db38320030237d9ebf9619ca&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-02-21 07:41:04&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="opsgenie2sn"&gt;c08571f8dbd4320030237d9ebf961972&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c4e5a3044f200300e6937d218110c735</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>addWorkNotes</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_x_86994_opsgenie_opsgenie_configuration_apikey</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="apikey" table="x_86994_opsgenie_opsgenie_configuration"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;API Key&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value&gt;[YOUR OPSGENIE API KEY]&lt;/default_value&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;apikey&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;512&lt;/max_length&gt;&lt;name&gt;x_86994_opsgenie_opsgenie_configuration&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-25 08:38:00&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;16f7fffbdbfa720030237d9ebf961951&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;API Key&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_x_86994_opsgenie_opsgenie_configuration_apikey&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-28 09:27:06&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c8e56bc04f200300e6937d218110c7a2</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.API Key</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_6dc682d2db00320030237d9ebf961911</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message"><sys_rest_message action="INSERT_OR_UPDATE"><access>package_private</access><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><description>OpsGenie ServiceNow Integration Endpoint.</description><name>OpsGenie Webhook</name><oauth2_profile/><protocol_name/><rest_endpoint>${endPoint}/v1/json/servicenowv2</rest_endpoint><sys_class_name>sys_rest_message</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-03 15:38:36</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>6dc682d2db00320030237d9ebf961911</sys_id><sys_mod_count>10</sys_mod_count><sys_name>OpsGenie Webhook</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_6dc682d2db00320030237d9ebf961911</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-17 15:40:55</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mutual_auth>false</use_mutual_auth></sys_rest_message></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c8e56bc04f200300e6937d218110c7a5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>OpsGenie Webhook</target_name>
<type>REST Message</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_f0353db8dbd4320030237d9ebf9619cc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>delete</function_name><http_method>delete</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Alert API Endpoint [ delete ]</qualified_name><rest_endpoint>${endPoint}/v2/alerts${subEndPoint}</rest_endpoint><rest_message display_value="OpsGenie Alert API Endpoint">a80435b8dbd4320030237d9ebf961914</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:46:05</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>f0353db8dbd4320030237d9ebf9619cc</sys_id><sys_mod_count>9</sys_mod_count><sys_name>delete</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_f0353db8dbd4320030237d9ebf9619cc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-08-04 08:11:01</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c8e56bc04f200300e6937d218110c7a8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>delete</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_2d79ee53db3e320030237d9ebf961902</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;true&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sys_user&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Delete User&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	
	if (client.syncUsersAndGroupsWithOpsGenie) {
		var userId = current.x_86994_opsgenie_opsgenie_user_id.toString();
		var subEndpoint = "/".concat(userId)
		client.deleteUserFromOpsGenie(subEndpoint);
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-23 13:45:07&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;2d79ee53db3e320030237d9ebf961902&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Delete User&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_2d79ee53db3e320030237d9ebf961902&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-08-04 11:33:15&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;after&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=2d79ee53db3e320030237d9ebf961902"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c8e5a3044f200300e6937d218110c72e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>sys_user</table>
<target_name>OpsGenie Delete User</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_4478b3ffdbfa720030237d9ebf9619f9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on x_86994_opsgenie_opsgenie_configuration</description><name>x_86994_opsgenie_opsgenie_configuration</name><operation display_value="read">read</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 08:38:01</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>4478b3ffdbfa720030237d9ebf9619f9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>x_86994_opsgenie_opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_security_acl_4478b3ffdbfa720030237d9ebf9619f9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-25 08:38:01</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c8e5a3044f200300e6937d218110c731</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>x_86994_opsgenie_opsgenie_configuration</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ws_definition_c08571f8dbd4320030237d9ebf961972</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_definition"><sys_ws_definition action="INSERT_OR_UPDATE"><active>true</active><base_uri>/api/x_86994_opsgenie/opsgenie2sn</base_uri><consumes>application/json,application/xml,text/xml</consumes><consumes_customized>false</consumes_customized><default_version>No active default version</default_version><doc_link/><enforce_acl/><is_versioned>false</is_versioned><name>opsgenie2sn</name><namespace>x_86994_opsgenie</namespace><produces>application/json,application/xml,text/xml</produces><produces_customized>false</produces_customized><service_id>opsgenie2sn</service_id><short_description/><sys_class_name>sys_ws_definition</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-11 08:47:44</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>c08571f8dbd4320030237d9ebf961972</sys_id><sys_mod_count>0</sys_mod_count><sys_name>opsgenie2sn</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ws_definition_c08571f8dbd4320030237d9ebf961972</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-01-11 08:47:44</sys_updated_on></sys_ws_definition></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>c8e5a3044f200300e6937d218110c734</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>opsgenie2sn</target_name>
<type>Scripted REST API</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_incident_x_86994_opsgenie_alert_alias</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="x_86994_opsgenie_alert_alias" table="incident"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Alert alias&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;x_86994_opsgenie_alert_alias&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;512&lt;/max_length&gt;&lt;name&gt;incident&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-01-12 12:21:49&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_id&gt;4310bf01db90720030237d9ebf9619a2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Alert alias&lt;/sys_name&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_incident_x_86994_opsgenie_alert_alias&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-01-12 12:21:49&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>cce56bc04f200300e6937d218110c7a1</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>Incident.Alert alias</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_use_acknowledge_instead_of_assign_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="use_acknowledge_instead_of_assign" label="Use Acknowledge Instead Of Assign" language="en" table="x_86994_opsgenie_opsgenie_configuration"><sys_documentation action="INSERT_OR_UPDATE"><element>use_acknowledge_instead_of_assign</element><help/><hint>If selected to value, OpsGenie alert will be acknowledged instead of being assigned to user, when the incident is assigned to someone in ServiceNow.</hint><label>Use Acknowledge Instead Of Assign</label><language>en</language><name>x_86994_opsgenie_opsgenie_configuration</name><plural>Use Acknowledge Instead Of Assigns</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-25 11:17:18</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>65ec5c8cdb0f720030237d9ebf961955</sys_id><sys_mod_count>2</sys_mod_count><sys_name>Use Acknowledge Instead Of Assign</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_documentation_x_86994_opsgenie_opsgenie_configuration_use_acknowledge_instead_of_assign_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 10:14:14</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>cce56bc04f200300e6937d218110c7a4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>x_86994_opsgenie_opsgenie_configuration</table>
<target_name>OpsGenie Configuration.Use Acknowledge Instead Of Assign</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_947786d2db00320030237d9ebf961923</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>inherit_from_parent</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>delete</function_name><http_method>delete</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>OpsGenie Webhook [ delete ]</qualified_name><rest_endpoint>${endPoint}/v1/json/servicenowv2</rest_endpoint><rest_message display_value="OpsGenie Webhook">6dc682d2db00320030237d9ebf961911</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-01-03 15:40:58</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>947786d2db00320030237d9ebf961923</sys_id><sys_mod_count>8</sys_mod_count><sys_name>delete</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_rest_message_fn_947786d2db00320030237d9ebf961923</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-17 15:42:59</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>cce56bc04f200300e6937d218110c7a7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>delete</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_692ac2b8dbd4320030237d9ebf961989</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-01-11 10:17:25</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>692ac2b8dbd4320030237d9ebf961989</sys_id><sys_mod_count>0</sys_mod_count><sys_name>RESTAPIRequest</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_692ac2b8dbd4320030237d9ebf961989</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-01-11 10:17:25</sys_updated_on><target_name>RESTAPIRequest</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>cce56bc04f200300e6937d218110c7aa</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>RESTAPIRequest</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_ed2ac2b8dbd4320030237d9ebf96198b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>guest</sys_created_by><sys_created_on>2017-01-11 10:17:25</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>ed2ac2b8dbd4320030237d9ebf96198b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>RESTAPIRequestBody</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_scope_privilege_ed2ac2b8dbd4320030237d9ebf96198b</sys_update_name><sys_updated_by>guest</sys_updated_by><sys_updated_on>2017-01-11 10:17:25</sys_updated_on><target_name>RESTAPIRequestBody</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>cce5a3044f200300e6937d218110c72d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>RESTAPIRequestBody</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_script_f3ef5357db26320030237d9ebf9619bc</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;incident&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="incident"&gt;work_notesVALCHANGES^EQ&lt;item endquery="false" field="work_notes" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;OpsGenie Add Work Note&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var client = new OpsGenie_Client();
	var alertAlias = current.x_86994_opsgenie_alert_alias;
	var workNotes = current.work_notes.getJournalEntry(1);
	
	if (!workNotes.contains("[From OpsGenie] ")) {
		var contentMap = {
			state: "Added Note",
			workNotes: workNotes,
			incidentNumber: current.number.toString()
		};

		if (alertAlias == null || alertAlias == "") {
			contentMap.alias = current.number.toString();
		} else {
			contentMap.alias = alertAlias.toString();
		}

		client.postToOpsGenie(contentMap);
	} else {
		gs.info("The note was added by OpsGenie. Skipping sending to OpsGenie again.");
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2017-05-11 07:32:28&lt;/sys_created_on&gt;&lt;sys_customer_update&gt;true&lt;/sys_customer_update&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;f3ef5357db26320030237d9ebf9619bc&lt;/sys_id&gt;&lt;sys_mod_count&gt;19&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpsGenie Add Work Note&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="OpsGenie" source="x_86994_opsgenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;&lt;sys_scope display_value="OpsGenie"&gt;98838612db00320030237d9ebf9619ae&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_f3ef5357db26320030237d9ebf9619bc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2017-05-30 09:06:25&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;async&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=f3ef5357db26320030237d9ebf9619bc"/&gt;&lt;/record_update&gt;</payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>cce5a3044f200300e6937d218110c730</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table>incident</table>
<target_name>OpsGenie Add Work Note</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="OpsGenie">98838612db00320030237d9ebf9619ae</application>
<category>customer</category>
<comments/>
<name>sys_ui_view_179d37f0db83320030237d9ebf9619f2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_view"><sys_ui_view action="INSERT_OR_UPDATE"><group/><hidden>false</hidden><name>sys_popup,opsgenie_configuration</name><roles/><sys_class_name>sys_ui_view</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2017-05-28 11:34:34</sys_created_on><sys_customer_update>true</sys_customer_update><sys_id>179d37f0db83320030237d9ebf9619f2</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Sys_popup,opsgenie_configuration</sys_name><sys_package display_value="OpsGenie" source="x_86994_opsgenie">98838612db00320030237d9ebf9619ae</sys_package><sys_policy/><sys_replace_on_upgrade>false</sys_replace_on_upgrade><sys_scope display_value="OpsGenie">98838612db00320030237d9ebf9619ae</sys_scope><sys_update_name>sys_ui_view_179d37f0db83320030237d9ebf9619f2</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2017-05-28 11:34:34</sys_updated_on><title>Sys_popup,opsgenie_configuration</title><user/></sys_ui_view></record_update>]]></payload>
<remote_update_set display_value="OpsGenie">c8e56bc04f200300e6937d218110c79f</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2017-08-08 15:29:35</sys_created_on>
<sys_id>cce5a3044f200300e6937d218110c733</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2017-08-08 15:29:35</sys_updated_on>
<table/>
<target_name>Sys_popup,opsgenie_configuration</target_name>
<type>UI View</type>
<update_domain>global</update_domain>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
